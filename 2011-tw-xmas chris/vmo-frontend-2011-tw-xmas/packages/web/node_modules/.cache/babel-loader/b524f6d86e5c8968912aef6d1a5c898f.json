{"ast":null,"code":"var _jsxFileName = \"D:\\\\17\\u5C08\\u6848\\\\\\u5BA2\\u88FD\\u5316ui\\u5C08\\u6848\\\\2011-tw-xmas chris\\\\vmo-frontend-2011-tw-xmas\\\\packages\\\\web\\\\pages\\\\2008-tw-momo.tsx\"; // 2008-tw-momo\n\nimport React, { useEffect, useRef } from 'react';\nimport { getDefaultDay } from '@vmo/share/utils';\nimport { EventPage, Tab } from '@vmo/ui';\nimport useStartRender from '@vmo/ui/hooks/useStartRender';\nimport useTranslation from '@vmo/ui/hooks/useTranslation';\nimport { useTrackPageEnter } from '@vmo/ui/hooks';\nimport CoverVideo from '@vmo/ui/CoverVideo';\nimport { Tab0TimeState, Iframes, SectionTypes, TrackTab } from '@vmo/web/constants/config';\nimport GlobalStyles from '@vmo/web/themes/GlobalStyle';\nimport { TabsRefContext } from '@vmo/ui/hooks/TabsRefContext';\nimport { Tabs0Styled, CountDownStyled, ImageCache } from '@vmo/web/components/Tabs/styled';\nimport EventIntro from '@vmo/web/components/EventIntro';\nimport RankTitle from '@vmo/web/components/RankTitle';\nimport Tabs00 from '@vmo/web/components/Tabs/Tabs00';\nimport Tabs10 from '@vmo/web/components/Tabs/Tabs10';\nimport Tabs20 from '@vmo/web/components/Tabs/Tabs20';\nimport Tabs30 from '@vmo/web/components/Tabs/Tabs30'; // import Tabs40 from '@vmo/web/components/Tabs/Tabs40';\n// import Tabs50 from '@vmo/web/components/Tabs/Tabs50';\n\nimport Loading from '@vmo/ui/Loading';\nimport LeaderboardContainer from '@vmo/web/components/LeaderboardContainer';\nimport { LeaderboardContainerWrapper } from '@vmo/web/components/LeaderboardContainer/LeaderboardContainer';\nimport initReactFastclick from 'react-fastclick';\nimport { useMinSectionTracking, createSectionViewAction, createTabClickAction } from '17media-browser-spy';\nimport { trackingSource } from '@vmo/share/17appTrack';\nimport { TranslationContext } from '../context/translationContext';\ninitReactFastclick();\n\nconst App = () => {\n  const tabsRef = useRef(null);\n  useMinSectionTracking(tabsRef, () => {\n    trackingSource.track(createSectionViewAction(SectionTypes.tabs));\n  });\n  const startRender = useStartRender();\n  const translation = useTranslation(startRender);\n  useEffect(() => {\n    const initialTabIndex = getDefaultDay(Tab0TimeState, 0);\n    trackingSource.track(createTabClickAction('', TrackTab[initialTabIndex]));\n  }, []);\n  useTrackPageEnter();\n\n  if (!startRender) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (translation.size === 0) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      color: \"#fe41cb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const tab0Items = [{\n    tabKey: Tab0TimeState[0].tabKey,\n    title: null,\n    tabText: TrackTab[0],\n    tabs: () => /*#__PURE__*/React.createElement(Tabs00, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }),\n    countdown: null\n  }, {\n    tabKey: Tab0TimeState[1].tabKey,\n    title: null,\n    tabText: TrackTab[1],\n    tabs: () => /*#__PURE__*/React.createElement(Tabs10, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }),\n    countdown: null\n  }, {\n    tabKey: Tab0TimeState[2].tabKey,\n    title: null,\n    tabText: TrackTab[2],\n    tabs: () => /*#__PURE__*/React.createElement(Tabs20, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    })\n  }, {\n    tabKey: Tab0TimeState[3].tabKey,\n    title: null,\n    tabText: TrackTab[3],\n    tabs: () => /*#__PURE__*/React.createElement(Tabs30, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    })\n  }];\n  const defaultTabIndex = getDefaultDay(Tab0TimeState, 0);\n  return /*#__PURE__*/React.createElement(TranslationContext.Provider, {\n    value: translation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TabsRefContext.Provider, {\n    value: tabsRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(EventPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CoverVideo, {\n    iframe: Iframes.masterVision.kv,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabsRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Tabs0Styled, {\n    active: Tab0TimeState[defaultTabIndex].tabKey,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, tab0Items.map(item => /*#__PURE__*/React.createElement(Tab, {\n    key: `tab0_${item.tabKey}`,\n    tabKey: item.tabKey,\n    title: item.title,\n    tabText: item.tabText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, item.tabs ? /*#__PURE__*/React.createElement(item.tabs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 32\n    }\n  }) : null, item.countdown && item.countdown.startDate && item.countdown.endDate ? /*#__PURE__*/React.createElement(CountDownStyled, {\n    startDate: item.countdown.startDate,\n    endDate: item.countdown.endDate,\n    dateFormat: item.countdown.dateFormat,\n    formatStr: item.countdown.formatStr,\n    isSameDay: item.countdown.isSameDay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }) : null, item.eventIntro ? /*#__PURE__*/React.createElement(EventIntro, {\n    title: item.eventIntro.title,\n    iframe: item.eventIntro.iframe,\n    only: item.eventIntro.only,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }) : null, item.rankTitle ? /*#__PURE__*/React.createElement(RankTitle, {\n    title: item.rankTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 37\n    }\n  }) : null, item.leaderboard ? /*#__PURE__*/React.createElement(LeaderboardContainerWrapper, {\n    styleInfo: item.leaderboard.style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(LeaderboardContainer, {\n    apis: item.leaderboard.apis,\n    sortFunc: item.leaderboard.sortFunc,\n    apiCache: item.leaderboard.apiCache,\n    condition: item.leaderboard.condition,\n    iframe: item.leaderboard.iframe,\n    realTime: item.leaderboard.realTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 23\n    }\n  })) : null)))), /*#__PURE__*/React.createElement(ImageCache, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(GlobalStyles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["D:/17專案/客製化ui專案/2011-tw-xmas chris/vmo-frontend-2011-tw-xmas/packages/web/pages/2008-tw-momo.tsx"],"names":["initReactFastclick","App","tabsRef","useRef","useMinSectionTracking","trackingSource","createSectionViewAction","SectionTypes","startRender","useStartRender","translation","useTranslation","useEffect","initialTabIndex","getDefaultDay","createTabClickAction","TrackTab","useTrackPageEnter","tab0Items","tabKey","Tab0TimeState","title","tabText","tabs","countdown","defaultTabIndex","Iframes","item"],"mappings":"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","sourcesContent":["// 2008-tw-momo\nimport React, {\n  useState,\n  useEffect,\n  useMemo,\n  useRef,\n  useCallback,\n} from 'react';\n\nimport { getDefaultDay, getCurrentTransLateLang } from '@vmo/share/utils';\nimport { EventPage, Tab } from '@vmo/ui';\nimport useStartRender from '@vmo/ui/hooks/useStartRender';\nimport useTranslation from '@vmo/ui/hooks/useTranslation';\nimport { useTrackPageEnter } from '@vmo/ui/hooks';\nimport CoverVideo from '@vmo/ui/CoverVideo';\nimport {\n  Tab0TimeState,\n  Iframes,\n  SectionTypes,\n  TrackTab,\n  SpecialSection,\n} from '@vmo/web/constants/config';\nimport GlobalStyles from '@vmo/web/themes/GlobalStyle';\nimport { TabsRefContext } from '@vmo/ui/hooks/TabsRefContext';\nimport {\n  Tabs0Styled,\n  CountDownStyled,\n  ImageCache,\n} from '@vmo/web/components/Tabs/styled';\nimport EventIntro from '@vmo/web/components/EventIntro';\nimport RankTitle from '@vmo/web/components/RankTitle';\nimport Tabs00 from '@vmo/web/components/Tabs/Tabs00';\nimport Tabs10 from '@vmo/web/components/Tabs/Tabs10';\nimport Tabs20 from '@vmo/web/components/Tabs/Tabs20';\nimport Tabs30 from '@vmo/web/components/Tabs/Tabs30';\n// import Tabs40 from '@vmo/web/components/Tabs/Tabs40';\n// import Tabs50 from '@vmo/web/components/Tabs/Tabs50';\nimport Loading from '@vmo/ui/Loading';\nimport Videos from '@vmo/web/themes/videos';\nimport LeaderboardContainer from '@vmo/web/components/LeaderboardContainer';\nimport { LeaderboardContainerWrapper } from '@vmo/web/components/LeaderboardContainer/LeaderboardContainer';\nimport { api } from '@vmo/web/constants/api';\nimport * as Conditions from '@vmo/web/constants/conditions';\nimport { sortTab0 } from '@vmo/ui/hooks/api/sort';\nimport initReactFastclick from 'react-fastclick';\nimport {\n  useMinSectionTracking,\n  createSectionViewAction,\n  createTabClickAction,\n} from '17media-browser-spy';\nimport { trackingSource } from '@vmo/share/17appTrack';\nimport { TranslationContext } from '../context/translationContext';\nimport Images from '../themes/images';\n\ninitReactFastclick();\n\nconst App: React.FC = () => {\n  const tabsRef = useRef(null);\n  useMinSectionTracking(tabsRef, () => {\n    trackingSource.track(createSectionViewAction(SectionTypes.tabs));\n  });\n  const startRender = useStartRender();\n  const translation = useTranslation(startRender);\n  useEffect(() => {\n    const initialTabIndex = getDefaultDay(Tab0TimeState, 0);\n    trackingSource.track(createTabClickAction('', TrackTab[initialTabIndex]));\n  }, []);\n  useTrackPageEnter();\n  if (!startRender) {\n    return <div />;\n  }\n  if (translation.size === 0) {\n    return <Loading color=\"#fe41cb\" />;\n  }\n  const tab0Items = [\n    {\n      tabKey: Tab0TimeState[0].tabKey,\n      title: null,\n      tabText: TrackTab[0],\n      tabs: () => <Tabs00 />,\n      countdown: null,\n    },\n    {\n      tabKey: Tab0TimeState[1].tabKey,\n      title: null,\n      tabText: TrackTab[1],\n      tabs: () => <Tabs10 />,\n      countdown: null,\n    },\n    {\n      tabKey: Tab0TimeState[2].tabKey,\n      title: null,\n      tabText: TrackTab[2],\n      tabs: () => <Tabs20 />,\n    },\n    {\n      tabKey: Tab0TimeState[3].tabKey,\n      title: null,\n      tabText: TrackTab[3],\n      tabs: () => <Tabs30 />,\n    },\n  ];\n  const defaultTabIndex = getDefaultDay(Tab0TimeState, 0);\n  return (\n    <TranslationContext.Provider value={translation}>\n      <TabsRefContext.Provider value={tabsRef}>\n        <EventPage>\n          <CoverVideo iframe={Iframes.masterVision.kv} />\n          <div ref={tabsRef}>\n            <Tabs0Styled active={Tab0TimeState[defaultTabIndex].tabKey}>\n              {tab0Items.map(item => (\n                <Tab\n                  key={`tab0_${item.tabKey}`}\n                  tabKey={item.tabKey}\n                  title={item.title}\n                  tabText={item.tabText}\n                >\n                  {item.tabs ? <item.tabs /> : null}\n                  {item.countdown &&\n                  item.countdown.startDate &&\n                  item.countdown.endDate ? (\n                    <CountDownStyled\n                      startDate={item.countdown.startDate}\n                      endDate={item.countdown.endDate}\n                      dateFormat={item.countdown.dateFormat}\n                      formatStr={item.countdown.formatStr}\n                      isSameDay={item.countdown.isSameDay}\n                    />\n                  ) : null}\n                  {item.eventIntro ? (\n                    <EventIntro\n                      title={item.eventIntro.title}\n                      iframe={item.eventIntro.iframe}\n                      only={item.eventIntro.only}\n                    />\n                  ) : null}\n                  {item.rankTitle ? <RankTitle title={item.rankTitle} /> : null}\n                  {item.leaderboard ? (\n                    <LeaderboardContainerWrapper\n                      styleInfo={item.leaderboard.style}\n                    >\n                      <LeaderboardContainer\n                        apis={item.leaderboard!.apis}\n                        sortFunc={item.leaderboard!.sortFunc}\n                        apiCache={item.leaderboard!.apiCache}\n                        condition={item.leaderboard!.condition}\n                        iframe={item.leaderboard.iframe}\n                        realTime={item.leaderboard!.realTime}\n                      />\n                    </LeaderboardContainerWrapper>\n                  ) : null}\n                </Tab>\n              ))}\n            </Tabs0Styled>\n          </div>\n          <ImageCache />\n          <GlobalStyles />\n        </EventPage>\n      </TabsRefContext.Provider>\n    </TranslationContext.Provider>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}