{"ast":null,"code":"import * as tunnel from './17liveMessageTunnel';\n\nfunction redirect(url) {\n  location.href = url; // eslint-disable-line no-restricted-globals\n}\n\nexport function open(userID, openID, streamID = 0) {\n  const page = 'profile';\n  const isMobile = /Mobile/.test(navigator.userAgent);\n\n  if (isMobile) {\n    const isAndroid = /Android/.test(navigator.userAgent) && typeof java17WebObject !== 'undefined';\n\n    if (isAndroid) {\n      if (streamID > 0) {\n        redirect(`http://17.media/share/live/${streamID}`);\n        return;\n      }\n\n      java17WebObject.openProfile(userID, page);\n      return;\n    }\n\n    const isIOS = /iPhone|iPad|iPod/.test(navigator.userAgent);\n\n    if (isIOS) {\n      if (streamID > 0) {\n        redirect(`media17://live/${streamID}`);\n        return;\n      }\n\n      redirect(`media17://u/${userID}`);\n      return;\n    }\n  }\n\n  if (window.parent !== window) {\n    // 17.live\n    tunnel.open(openID);\n    return;\n  }\n\n  if (streamID > 0) {\n    window.open(`http://17.media/share/live/${streamID}`);\n  }\n}","map":{"version":3,"sources":["D:/17專案/客製化ui專案/2011-tw-xmas/vmo-frontend-2008-tw-momo/packages/share/17app.ts"],"names":["tunnel","redirect","url","location","href","open","userID","openID","streamID","page","isMobile","test","navigator","userAgent","isAndroid","java17WebObject","openProfile","isIOS","window","parent"],"mappings":"AAAA,OAAO,KAAKA,MAAZ,MAAwB,uBAAxB;;AAIA,SAASC,QAAT,CAAkBC,GAAlB,EAA+B;AAC7BC,EAAAA,QAAQ,CAACC,IAAT,GAAgBF,GAAhB,CAD6B,CACR;AACtB;;AAED,OAAO,SAASG,IAAT,CAAcC,MAAd,EAA8BC,MAA9B,EAA8CC,QAAQ,GAAG,CAAzD,EAA4D;AACjE,QAAMC,IAAI,GAAG,SAAb;AACA,QAAMC,QAAQ,GAAG,SAASC,IAAT,CAAcC,SAAS,CAACC,SAAxB,CAAjB;;AACA,MAAIH,QAAJ,EAAc;AACZ,UAAMI,SAAS,GACb,UAAUH,IAAV,CAAeC,SAAS,CAACC,SAAzB,KACA,OAAOE,eAAP,KAA2B,WAF7B;;AAIA,QAAID,SAAJ,EAAe;AACb,UAAIN,QAAQ,GAAG,CAAf,EAAkB;AAChBP,QAAAA,QAAQ,CAAE,8BAA6BO,QAAS,EAAxC,CAAR;AACA;AACD;;AACDO,MAAAA,eAAe,CAACC,WAAhB,CAA4BV,MAA5B,EAAoCG,IAApC;AACA;AACD;;AAED,UAAMQ,KAAK,GAAG,mBAAmBN,IAAnB,CAAwBC,SAAS,CAACC,SAAlC,CAAd;;AAEA,QAAII,KAAJ,EAAW;AACT,UAAIT,QAAQ,GAAG,CAAf,EAAkB;AAChBP,QAAAA,QAAQ,CAAE,kBAAiBO,QAAS,EAA5B,CAAR;AACA;AACD;;AACDP,MAAAA,QAAQ,CAAE,eAAcK,MAAO,EAAvB,CAAR;AACA;AACD;AACF;;AAED,MAAIY,MAAM,CAACC,MAAP,KAAkBD,MAAtB,EAA8B;AAC5B;AACAlB,IAAAA,MAAM,CAACK,IAAP,CAAYE,MAAZ;AACA;AACD;;AAED,MAAIC,QAAQ,GAAG,CAAf,EAAkB;AAChBU,IAAAA,MAAM,CAACb,IAAP,CAAa,8BAA6BG,QAAS,EAAnD;AACD;AACF","sourcesContent":["import * as tunnel from './17liveMessageTunnel';\n\ndeclare const java17WebObject: any;\n\nfunction redirect(url: string) {\n  location.href = url; // eslint-disable-line no-restricted-globals\n}\n\nexport function open(userID: string, openID: string, streamID = 0) {\n  const page = 'profile';\n  const isMobile = /Mobile/.test(navigator.userAgent);\n  if (isMobile) {\n    const isAndroid =\n      /Android/.test(navigator.userAgent) &&\n      typeof java17WebObject !== 'undefined';\n\n    if (isAndroid) {\n      if (streamID > 0) {\n        redirect(`http://17.media/share/live/${streamID}`);\n        return;\n      }\n      java17WebObject.openProfile(userID, page);\n      return;\n    }\n\n    const isIOS = /iPhone|iPad|iPod/.test(navigator.userAgent);\n\n    if (isIOS) {\n      if (streamID > 0) {\n        redirect(`media17://live/${streamID}`);\n        return;\n      }\n      redirect(`media17://u/${userID}`);\n      return;\n    }\n  }\n\n  if (window.parent !== window) {\n    // 17.live\n    tunnel.open(openID);\n    return;\n  }\n\n  if (streamID > 0) {\n    window.open(`http://17.media/share/live/${streamID}`);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}