{"ast":null,"code":"var _jsxFileName = \"D:\\\\17\\u5C08\\u6848\\\\\\u5BA2\\u88FD\\u5316ui\\u5C08\\u6848\\\\2011-tw-xmas chris\\\\vmo-frontend-2011-tw-xmas\\\\packages\\\\ui\\\\LeaderboardItem.tsx\";\nimport React from 'react';\nimport styled, { ThemeProvider } from 'styled-components';\nimport images from '@vmo/web/themes/images';\nimport { THUMBNAIL_BASE_URL, DEFAULT_AVATAR } from '@vmo/share/CONST';\nimport { numberFormat } from '@vmo/share/utils';\nconst WrapScore = styled.div.withConfig({\n  displayName: \"LeaderboardItem__WrapScore\",\n  componentId: \"sc-15n6igk-0\"\n})([\"color:\", \";font-size:14px;line-height:16px;\"], props => props.theme.colorScore);\nconst Wrapper = styled.div.withConfig({\n  displayName: \"LeaderboardItem__Wrapper\",\n  componentId: \"sc-15n6igk-1\"\n})([\"display:flex;font-size:16px;font-weight:500;line-height:16px;color:\", \";box-sizing:border-box;min-height:78px;justify-items:center;justify-content:center;background:\", \";\"], props => props.theme.color, props => props.theme.background || '');\nconst RankNumber = styled.div.withConfig({\n  displayName: \"LeaderboardItem__RankNumber\",\n  componentId: \"sc-15n6igk-2\"\n})([\"width:50px;display:flex;justify-content:center;align-content:center;align-items:center;color:\", \";background:url(\", \") center no-repeat;background-size:30px 30px;@media (max-width:360px){width:30px;}\"], props => props.theme.colorRankNumber, props => props.theme.rankBg);\nconst UserInfo = styled.div.withConfig({\n  displayName: \"LeaderboardItem__UserInfo\",\n  componentId: \"sc-15n6igk-3\"\n})([\"display:flex;flex-direction:column;justify-content:center;align-content:center;flex-grow:1;box-sizing:border-box;position:relative;width:50%;> div:first-child{font-size:14px;line-height:14px;letter-spacing:normal;color:\", \";margin-bottom:7px;.user-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:95%;display:inline-block;vertical-align:top;font-size:13px;}}@media (max-width:320px){margin-left:-15px;}&::after{content:'';width:100%;position:absolute;z-index:1;bottom:0;left:0;height:8px;background:url(\", \") center no-repeat;background-size:cover;}\"], props => props.theme.colorNickName, images.dividerLine);\nconst ColumnUserImg = styled.div.withConfig({\n  displayName: \"LeaderboardItem__ColumnUserImg\",\n  componentId: \"sc-15n6igk-4\"\n})([\"display:flex;justify-content:center;align-content:center;align-items:center;\"]);\nconst UserAvatar = styled.div.attrs(props => ({\n  style: {\n    background: props.style.background\n  }\n})).withConfig({\n  displayName: \"LeaderboardItem__UserAvatar\",\n  componentId: \"sc-15n6igk-5\"\n})([\"width:52px;height:52px;border-radius:50%;border:1px solid #fff;margin-right:20px;background-size:cover;box-shadow:\", \";&::after{content:'';background-image:\", \";background-size:contain;width:100%;height:100%;position:absolute;top:0px;left:-10px;background-repeat:no-repeat;background-position:center center;}\"], props => props.isHighlight ? 'none' : 'rgb(0, 234, 255) 0px 0px 7px 1px', props => props.isLive ? `url(http://webcdn.17app.co/campaign/assets/igOfficialCircle.png)` : `url()`);\nconst WrapperImg = styled.div.withConfig({\n  displayName: \"LeaderboardItem__WrapperImg\",\n  componentId: \"sc-15n6igk-6\"\n})([\"position:relative;\"]);\nconst RankIcon = styled.div.withConfig({\n  displayName: \"LeaderboardItem__RankIcon\",\n  componentId: \"sc-15n6igk-7\"\n})([\"position:absolute;bottom:0;right:20px;display:block;font-size:20px;\"]);\nconst WrapBonus = styled.div.withConfig({\n  displayName: \"LeaderboardItem__WrapBonus\",\n  componentId: \"sc-15n6igk-8\"\n})([\"font-size:13px;line-height:16px;color:#fe41cb;line-height:1.33;font-weight:500;margin-top:5px;\"]);\nconst Borderline = styled.div.withConfig({\n  displayName: \"LeaderboardItem__Borderline\",\n  componentId: \"sc-15n6igk-9\"\n})([\"width:100%;height:1px;background:url(\", \") center no-repeat;background-size:100%;position:relative;top:-1px;z-index:10;\"], props => props.theme.borderBottom);\n\nconst LeaderboardItemFC = ({\n  theme,\n  icon,\n  score,\n  rank,\n  bonus = 0,\n  userInfo,\n  unit,\n  children,\n  handleClickAvatar,\n  withBonus = false,\n  isLive,\n  isHighlight,\n  additionalText\n}) => {\n  let avatar = '';\n\n  if (userInfo) {\n    avatar = userInfo.picture && userInfo.picture.startsWith('http') ? userInfo.picture : THUMBNAIL_BASE_URL + userInfo.picture;\n  }\n\n  const scoreText = numberFormat(score);\n  return /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RankNumber, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, rank + 1)), /*#__PURE__*/React.createElement(ColumnUserImg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(WrapperImg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UserAvatar, {\n    isHighlight: isHighlight,\n    isLive: isLive,\n    onClick: handleClickAvatar,\n    style: {\n      backgroundImage: `url(${avatar}), url(${DEFAULT_AVATAR})`,\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(RankIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }, icon))), /*#__PURE__*/React.createElement(UserInfo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"user-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  }, userInfo.displayName)), /*#__PURE__*/React.createElement(WrapScore, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, additionalText || `${scoreText}  ${unit}`))), /*#__PURE__*/React.createElement(Borderline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }\n  }), children));\n};\n\nLeaderboardItemFC.defaultProps = {\n  unit: '紅利回饋',\n  icon: ''\n};\nexport const LeaderboardItem = LeaderboardItemFC;\nexport default LeaderboardItem;","map":{"version":3,"sources":["D:/17專案/客製化ui專案/2011-tw-xmas chris/vmo-frontend-2011-tw-xmas/packages/ui/LeaderboardItem.tsx"],"names":["React","styled","ThemeProvider","images","THUMBNAIL_BASE_URL","DEFAULT_AVATAR","numberFormat","WrapScore","div","props","theme","colorScore","Wrapper","color","background","RankNumber","colorRankNumber","rankBg","UserInfo","colorNickName","dividerLine","ColumnUserImg","UserAvatar","attrs","style","isHighlight","isLive","WrapperImg","RankIcon","WrapBonus","Borderline","borderBottom","LeaderboardItemFC","icon","score","rank","bonus","userInfo","unit","children","handleClickAvatar","withBonus","additionalText","avatar","picture","startsWith","scoreText","backgroundImage","cursor","displayName","defaultProps","LeaderboardItem"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled, { ThemeProvider } from 'styled-components';\n\nimport images from '@vmo/web/themes/images';\nimport { THUMBNAIL_BASE_URL, DEFAULT_AVATAR } from '@vmo/share/CONST';\nimport { LeaderboardItem as LeaderboardItemInterface } from '@vmo/share/interfaces/LeaderboardItem';\nimport { numberFormat } from '@vmo/share/utils';\n\nconst WrapScore = styled.div`\n  color: ${props => props.theme.colorScore};\n  font-size: 14px;\n  line-height: 16px;\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 16px;\n  color: ${props => props.theme.color};\n  box-sizing: border-box;\n  min-height: 78px;\n  justify-items: center;\n  justify-content: center;\n  background: ${props => props.theme.background || ''};\n`;\n\nconst RankNumber = styled.div`\n  width: 50px;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  color: ${props => props.theme.colorRankNumber};\n  background: url(${props => props.theme.rankBg}) center no-repeat;\n  background-size: 30px 30px;\n  @media (max-width: 360px) {\n    width: 30px;\n  }\n`;\n\nconst UserInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  flex-grow: 1;\n  box-sizing: border-box;\n  position: relative;\n  width: 50%;\n  > div:first-child {\n    font-size: 14px;\n    line-height: 14px;\n    letter-spacing: normal;\n    color: ${props => props.theme.colorNickName};\n    margin-bottom: 7px;\n    .user-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      max-width: 95%;\n      display: inline-block;\n      vertical-align: top;\n      font-size: 13px;\n    }\n  }\n  @media (max-width: 320px) {\n    margin-left: -15px;\n  }\n  &::after {\n    content: '';\n    width: 100%;\n    position: absolute;\n    z-index: 1;\n    bottom: 0;\n    left: 0;\n    height: 8px;\n    background: url(${images.dividerLine}) center no-repeat;\n    background-size: cover;\n  }\n`;\n\nconst ColumnUserImg = styled.div`\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n`;\n\nconst UserAvatar = styled.div.attrs<{ style: string }>(props => ({\n  style: {\n    background: props.style.background,\n  },\n}))`\n  width: 52px;\n  height: 52px;\n  border-radius: 50%;\n  border: 1px solid #fff;\n  margin-right: 20px;\n  background-size: cover;\n  box-shadow: ${props =>\n    props.isHighlight ? 'none' : 'rgb(0, 234, 255) 0px 0px 7px 1px'};\n  &::after {\n    content: '';\n    background-image: ${props =>\n      props.isLive\n        ? `url(http://webcdn.17app.co/campaign/assets/igOfficialCircle.png)`\n        : `url()`};\n    background-size: contain;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0px;\n    left: -10px;\n    background-repeat: no-repeat;\n    background-position: center center;\n  }\n`;\n\nconst WrapperImg = styled.div`\n  position: relative;\n`;\n\nconst RankIcon = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 20px;\n  display: block;\n  font-size: 20px;\n`;\n\nconst WrapBonus = styled.div`\n  font-size: 13px;\n  line-height: 16px;\n  color: #fe41cb;\n  line-height: 1.33;\n  font-weight: 500;\n  margin-top: 5px;\n`;\n\nconst Borderline = styled.div`\n  width: 100%;\n  height: 1px;\n  background: url(${props => props.theme.borderBottom}) center no-repeat;\n  background-size: 100%;\n  position: relative;\n  top: -1px;\n  z-index: 10;\n`;\n\ninterface Props extends LeaderboardItemInterface {\n  theme: {\n    color: string;\n    borderBottom: string;\n    background?: string;\n    bottomDetail?: string;\n    colorNickName: string;\n    colorRankNumber?: string;\n    colorScore?: string;\n    rankBg?: string;\n  };\n  icon?: React.ReactElement | string;\n  unit?: string;\n  handleClickAvatar?: () => void;\n  withBonus?: boolean;\n  withVote?: boolean;\n  bonus?: number;\n  isLive: boolean;\n  isHighlight: boolean;\n  additionalText?: string;\n}\n\nconst LeaderboardItemFC: React.FC<Props> = ({\n  theme,\n  icon,\n  score,\n  rank,\n  bonus = 0,\n  userInfo,\n  unit,\n  children,\n  handleClickAvatar,\n  withBonus = false,\n  isLive,\n  isHighlight,\n  additionalText,\n}) => {\n  let avatar = '';\n  if (userInfo) {\n    avatar =\n      userInfo!.picture && userInfo!.picture!.startsWith('http')\n        ? userInfo!.picture\n        : THUMBNAIL_BASE_URL + userInfo!.picture;\n  }\n  const scoreText = numberFormat(score!);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <>\n        <Wrapper>\n          <RankNumber>\n            <span>{rank! + 1}</span>\n          </RankNumber>\n          <ColumnUserImg>\n            <WrapperImg>\n              <UserAvatar\n                isHighlight={isHighlight}\n                isLive={isLive}\n                onClick={handleClickAvatar}\n                style={{\n                  backgroundImage: `url(${avatar}), url(${DEFAULT_AVATAR})`,\n                  cursor: 'pointer',\n                }}\n              />\n              <RankIcon>{icon}</RankIcon>\n            </WrapperImg>\n          </ColumnUserImg>\n          <UserInfo>\n            <div>\n              <span className=\"user-name\">{userInfo!.displayName}</span>\n            </div>\n            <WrapScore>{additionalText || `${scoreText}  ${unit}`}</WrapScore>\n          </UserInfo>\n        </Wrapper>\n        <Borderline />\n        {children}\n      </>\n    </ThemeProvider>\n  );\n};\n\nLeaderboardItemFC.defaultProps = {\n  unit: '紅利回饋',\n  icon: '',\n};\n\nexport const LeaderboardItem = LeaderboardItemFC;\n\nexport default LeaderboardItem;\n"]},"metadata":{},"sourceType":"module"}