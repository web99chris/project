{"ast":null,"code":"var _jsxFileName = \"D:\\\\17\\u5C08\\u6848\\\\\\u5BA2\\u88FD\\u5316ui\\u5C08\\u6848\\\\vmo-frontend-2011-tw-xmas\\\\packages\\\\web\\\\components\\\\EventIntro\\\\EventIntro.tsx\";\n// 2002-tw-alliance\nimport React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { SectionTypes } from '@vmo/web/constants/config';\nimport { useMinSectionTracking, createSectionViewAction } from '17media-browser-spy';\nimport { trackingSource } from '@vmo/share/17appTrack';\nconst EventIntro = styled.div.withConfig({\n  displayName: \"EventIntro\",\n  componentId: \"sc-3v5ht8-0\"\n})([\"position:relative;max-width:800px;height:1000px;display:flex;flex-direction:column;justify-content:center;align-items:center;@media screen and (max-width:768px){height:600px;}\"]); // const EventIntroTop = styled.div`\n//   width: 100%;\n//   height: 24.39vw;\n//   background-image: url(${Images.yellow1}), url(${Images.block1});\n//   background-repeat: no-repeat;\n//   background-size: 100% 102%, 95% 102%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     height: calc((800 / 828) * 202px);\n//   }\n// `;\n// const EventIntroBottom = styled.div`\n//   position: relative;\n//   z-index: 0;\n//   margin-top: -8px;\n//   width: 100%;\n//   height: 31.88vw;\n//   background-image: url(${Images.yellow3}), url(${Images.cloud}),\n//     url(${Images.block3});\n//   background-repeat: no-repeat;\n//   background-size: 100%, 100%, 95% 100%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     height: calc((800 / 828) * 264px);\n//   }\n// `;\n// const EventIntroHeader = styled.div`\n//   background-image: url(${Images.eventTitle});\n//   background-repeat: no-repeat;\n//   background-position: top;\n//   background-size: contain;\n//   width: 100%;\n//   height: 13.04vw;\n//   color: #000000;\n//   font-weight: 600;\n//   text-align: center;\n//   @media screen and (min-width: 800px) {\n//     font-size: calc((800 / 828) * 28px);\n//     height: calc((800 / 828) * 108px);\n//   }\n// `;\n// const EventIntroContent = styled.div`\n//   position: absolute;\n//   z-index: 1;\n//   width: 100%;\n//   display: flex;\n//   flex: 0 0 auto;\n//   flex-direction: column;\n//   justify-content: center;\n//   align-content: center;\n//   align-self: center;\n//   min-height: 40.33vw;\n//   font-size: 3.38vw;\n//   font-weight: 600;\n//   line-height: 1.43;\n//   color: #fff;\n//   background-image: url(${Images.yellow2}), url(${Images.block2});\n//   background-repeat: repeat-y, repeat-y;\n//   background-size: 100%, 95%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     font-size: calc((800 / 828) * 28px);\n//     min-height: calc((800 / 828) * 334px);\n//   }\n//   iframe {\n//      margin-top: -12.8vw;\n//     @media screen and (min-width: 800px) {\n//       margin-top: calc((800 / 828) * -106px);\n//     }\n//   }\n// `;\n\nconst Iframe = ({\n  src\n}) => {\n  useEffect(() => {\n    const frame = document.querySelector('#frame');\n    frame.style.overflow = 'hidden';\n    window.addEventListener('message', e => {\n      if (e.data.source && e.data.source.indexOf('main-vision') === -1 && e.data.size) {\n        frame.style.height = `${e.data.size.height}px`;\n      }\n    });\n    return () => window.removeEventListener('message', () => {});\n  }, []);\n  return /*#__PURE__*/React.createElement(\"iframe\", {\n    id: \"frame\",\n    src: src,\n    frameBorder: \"0\",\n    width: \"90%\",\n    scrolling: \"no\",\n    title: \"event description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  });\n};\n\nconst EventIntroComponent = ({\n  title,\n  content,\n  iframe,\n  only\n}) => {\n  const descriptionRef = useRef(null);\n  useMinSectionTracking(descriptionRef, () => {\n    trackingSource.track(createSectionViewAction(SectionTypes.description));\n  });\n\n  if (only) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: descriptionRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Iframe, {\n      src: iframe,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (iframe) {\n    return /*#__PURE__*/React.createElement(EventIntro, {\n      ref: descriptionRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Iframe, {\n      src: iframe,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(EventIntro, {\n    ref: descriptionRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }\n  }, content ? /*#__PURE__*/React.createElement(EventIntroContent, {\n    dangerouslySetInnerHTML: {\n      __html: `${content.replace(/\\n/g, '<br/>')}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }) : null);\n};\n\nexport default EventIntroComponent;","map":{"version":3,"sources":["D:/17專案/客製化ui專案/vmo-frontend-2011-tw-xmas/packages/web/components/EventIntro/EventIntro.tsx"],"names":["React","useEffect","useRef","styled","SectionTypes","useMinSectionTracking","createSectionViewAction","trackingSource","EventIntro","div","Iframe","src","frame","document","querySelector","style","overflow","window","addEventListener","e","data","source","indexOf","size","height","removeEventListener","EventIntroComponent","title","content","iframe","only","descriptionRef","track","description","__html","replace"],"mappings":"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","sourcesContent":["// 2002-tw-alliance\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport styled from 'styled-components';\n\nimport { SectionTypes } from '@vmo/web/constants/config';\nimport {\n  useMinSectionTracking,\n  createSectionViewAction,\n} from '17media-browser-spy';\nimport { trackingSource } from '@vmo/share/17appTrack';\nimport { EventIntroHeaderStyled } from '@vmo/web/components/Tabs/styled';\nimport Images from '@vmo/web/themes/images';\n\ninterface EventIntroProps {\n  title?: string;\n  content?: string;\n  iframe?: string;\n  only?: boolean;\n}\n\nconst EventIntro = styled.div`\n  position: relative;\n  max-width: 800px;\n  height: 1000px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  @media screen and (max-width: 768px) {\n    height: 600px;\n  }\n`;\n\n// const EventIntroTop = styled.div`\n//   width: 100%;\n//   height: 24.39vw;\n//   background-image: url(${Images.yellow1}), url(${Images.block1});\n//   background-repeat: no-repeat;\n//   background-size: 100% 102%, 95% 102%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     height: calc((800 / 828) * 202px);\n//   }\n// `;\n\n// const EventIntroBottom = styled.div`\n//   position: relative;\n//   z-index: 0;\n//   margin-top: -8px;\n//   width: 100%;\n//   height: 31.88vw;\n//   background-image: url(${Images.yellow3}), url(${Images.cloud}),\n//     url(${Images.block3});\n//   background-repeat: no-repeat;\n//   background-size: 100%, 100%, 95% 100%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     height: calc((800 / 828) * 264px);\n//   }\n// `;\n\n// const EventIntroHeader = styled.div`\n//   background-image: url(${Images.eventTitle});\n//   background-repeat: no-repeat;\n//   background-position: top;\n//   background-size: contain;\n//   width: 100%;\n//   height: 13.04vw;\n//   color: #000000;\n//   font-weight: 600;\n//   text-align: center;\n//   @media screen and (min-width: 800px) {\n//     font-size: calc((800 / 828) * 28px);\n//     height: calc((800 / 828) * 108px);\n//   }\n// `;\n\n// const EventIntroContent = styled.div`\n//   position: absolute;\n//   z-index: 1;\n//   width: 100%;\n//   display: flex;\n//   flex: 0 0 auto;\n//   flex-direction: column;\n//   justify-content: center;\n//   align-content: center;\n//   align-self: center;\n//   min-height: 40.33vw;\n//   font-size: 3.38vw;\n//   font-weight: 600;\n//   line-height: 1.43;\n//   color: #fff;\n//   background-image: url(${Images.yellow2}), url(${Images.block2});\n//   background-repeat: repeat-y, repeat-y;\n//   background-size: 100%, 95%;\n//   background-position: top;\n  \n//   @media screen and (min-width: 800px) {\n//     font-size: calc((800 / 828) * 28px);\n//     min-height: calc((800 / 828) * 334px);\n//   }\n//   iframe {\n//      margin-top: -12.8vw;\n//     @media screen and (min-width: 800px) {\n//       margin-top: calc((800 / 828) * -106px);\n//     }\n//   }\n// `;\n\nconst Iframe: React.FC<{ src: string }> = ({ src }) => {\n\n  \n  useEffect(() => {\n    const frame = document.querySelector('#frame') as HTMLElement;\n    frame.style.overflow = 'hidden';\n    window.addEventListener('message', e => {\n      if (\n        e.data.source &&\n        e.data.source.indexOf('main-vision') === -1 &&\n        e.data.size\n      ) {\n        frame.style.height = `${e.data.size.height}px`;\n      }\n    });\n    return () => window.removeEventListener('message', () => {});\n  }, []);\n\n\n\n\n  return (\n    <iframe\n      id=\"frame\"\n      src={src}\n      frameBorder=\"0\"\n      width=\"90%\"\n      scrolling=\"no\"\n      title=\"event description\"\n    />\n  );\n};\n\nconst EventIntroComponent: React.FC<EventIntroProps> = ({\n  title,\n  content,\n  iframe,\n  only,\n}) => {\n  const descriptionRef = useRef(null);\n  useMinSectionTracking(descriptionRef, () => {\n    trackingSource.track(createSectionViewAction(SectionTypes.description));\n  });\n  if (only) {\n    return (\n      <div ref={descriptionRef}>\n        <Iframe src={iframe} />\n      </div>\n    );\n  }\n  if (iframe) {\n    return (\n      <EventIntro ref={descriptionRef}>\n        {/* <EventIntroHeaderStyled>{title}</EventIntroHeaderStyled> */}\n        <Iframe src={iframe} />\n      </EventIntro>\n    );\n  }\n  return (\n    <EventIntro ref={descriptionRef}>\n      {/* <EventIntroHeaderStyled>{title}</EventIntroHeaderStyled> */}\n      {content ? (\n        <EventIntroContent\n          dangerouslySetInnerHTML={{\n            __html: `${content.replace(/\\n/g, '<br/>')}`,\n          }}\n        />\n      ) : null}\n    </EventIntro>\n  );\n};\n\nexport default EventIntroComponent;\n"]},"metadata":{},"sourceType":"module"}