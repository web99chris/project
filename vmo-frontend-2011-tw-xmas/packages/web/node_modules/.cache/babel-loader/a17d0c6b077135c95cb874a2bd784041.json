{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"D:\\\\17\\u5C08\\u6848\\\\\\u5BA2\\u88FD\\u5316ui\\u5C08\\u6848\\\\2011-tw-xmas chris\\\\vmo-frontend-2011-tw-xmas\\\\packages\\\\web\\\\components\\\\leaderboard\\\\LeaderboardItem.tsx\"; // 2008-tw-momo\n// import React, { useContext, memo } from 'react';\n// import { LeaderboardItem } from '@vmo/ui';\n// import { conditionMatch, numberFormat } from '@vmo/share/utils';\n// import { useDeepLink } from '@vmo/ui/hooks';\n// import { LeaderboardItem as LeaderboardItemInterface } from '@vmo/share/interfaces/LeaderboardItem';\n// import { TranslationContext } from '@vmo/web/context/translationContext';\n// import { ConditionInterface } from '../../constants/conditions';\n// import images from '../../themes/images';\n// import LeaderboardGeneral from './LeaderboardGeneral';\n// import { WrapLeaderboardItem } from './style';\n// import BonusPanel from './BonusPanel';\n// import FrameBorder from '../frameBorder';\n// const RenderLeaderboardItem: React.FC<{\n//   item: LeaderboardItemInterface;\n//   condition: ConditionInterface;\n//   showPanel: boolean;\n// }> = memo(({ item, condition, showPanel }) => {\n//   const translation = useContext(TranslationContext);\n//   const { handleClickItem } = useDeepLink(\n//     item.userID!,\n//     item.openID!,\n//     item.roomID,\n//   );\n//   const condIcon = conditionMatch(condition.icons!, item);\n//   const condBg = conditionMatch(condition.bgs!, item);\n//   return (\n//     <WrapLeaderboardItem\n//       withButton={condition.missions && condition.missions.length > 0}\n//     >\n//       <LeaderboardItem\n//         handleClickAvatar={handleClickItem}\n//         isLive={item.roomID && item.roomID > 0}\n//         theme={{\n//           colorNickName: '#ffffff',\n//           color: '#ce9914',\n//           colorRankNumber: '#ffffff',\n//           borderBottom: images.borderLine,\n//           background: condBg || 'rgba(9, 0, 59, 0.92);',\n//         }}\n//         {...item}\n//         icon={condIcon ? condIcon.icon : ''}\n//         unit={translation.get('UNIT')}\n//         isHighlight\n//         withBonus={condition.withBonus}\n//         withVote={false}\n//         bonus={Number.parseInt(item.meta.total, 10) || 0}\n//       />\n//       {showPanel && <BonusPanel meta={item.meta} />}\n//     </WrapLeaderboardItem>\n//   );\n// });\n// const Leaderboard: React.FC<{\n//   leaderboardData: LeaderboardItemInterface[];\n//   condition: ConditionInterface;\n// }> = ({ leaderboardData, condition }) => {\n//   const panelSize = 120;\n//   return (\n//     <FrameBorder title={''}>\n//       <LeaderboardGeneral\n//         itemHeight={90}\n//         panelSize={panelSize}\n//         leaderboardData={leaderboardData}\n//         withPanel={condition.withBonus}\n//         render={(item: LeaderboardItemInterface, showPanel: boolean) => {\n//           return (\n//             <RenderLeaderboardItem\n//               item={item}\n//               condition={condition}\n//               showPanel={showPanel}\n//             />\n//           );\n//         }}\n//       />\n//     </FrameBorder>\n//   );\n// };\n// export default memo(Leaderboard);\n\nimport React, { useContext, memo } from 'react';\nimport { LeaderboardItem } from '@vmo/ui';\nimport { conditionMatch, numberFormat } from '@vmo/share/utils';\nimport { useDeepLink } from '@vmo/ui/hooks';\nimport { TranslationContext } from '@vmo/web/context/translationContext';\nimport images from '../../themes/images';\nimport LeaderboardGeneral from './LeaderboardGeneral';\nimport { WrapLeaderboardItem } from './style';\nimport MissionPanel from './MissionPanel';\nimport BonusPanel from './BonusPanel';\nimport FrameBorder from '../frameBorder';\n\nconst getBackgroundColor = (item, condition, condIcon) => {\n  let backgroundColor = '#070027';\n\n  if (condIcon && condIcon.icon) {\n    backgroundColor = 'rgba(9, 0, 59, 0.92)';\n  }\n\n  if (condition && condition.bgs) {\n    const condBg = conditionMatch(condition.bgs, item);\n    backgroundColor = condBg && condBg.color ? condBg.color : 'rgba(9, 0, 59, 0.92)';\n  }\n\n  return backgroundColor;\n};\n\nconst RenderLeaderboardItem = memo(({\n  item,\n  condition,\n  showPanel,\n  showPanel2\n}) => {\n  const translation = useContext(TranslationContext);\n  const {\n    handleClickItem\n  } = useDeepLink(item.userID, item.openID, item.roomID);\n  const condIcon = conditionMatch(condition.icons, item);\n  const backgroundColor = getBackgroundColor(item, condition, condIcon);\n\n  const getAdditionalText = () => {\n    let additionalText = '';\n\n    if (condition.withVote) {\n      additionalText = `${numberFormat(item.score)} 票 / ${numberFormat(item.meta.amount)}分`;\n    }\n\n    if (condition.withBonus) {\n      additionalText = `${numberFormat(item.score)} 響叮噹 / ${numberFormat(item.meta.amount)}分`;\n    }\n\n    if (condition.withTotalScore) {\n      additionalText = `${numberFormat(item.score)} ( ${numberFormat(item.meta.vote || 0)} + ${numberFormat(item.meta.gift || 0)} ) 總積分`;\n    }\n\n    return additionalText;\n  };\n\n  return /*#__PURE__*/React.createElement(WrapLeaderboardItem, {\n    withButton: condition.missions && condition.missions.length > 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LeaderboardItem, _extends({\n    handleClickAvatar: handleClickItem,\n    isLive: item.roomID && item.roomID > 0,\n    theme: {\n      colorNickName: '#ffffff',\n      color: '#ffec17',\n      colorRankNumber: '#ffec17',\n      borderBottom: images.borderLine,\n      background: backgroundColor\n    }\n  }, item, {\n    icon: condIcon ? condIcon.icon : '',\n    unit: translation.get('UNIT'),\n    additionalText: getAdditionalText(),\n    isHighlight: true,\n    withBonus: false,\n    withVote: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  })), showPanel && /*#__PURE__*/React.createElement(MissionPanel, {\n    condition: condition,\n    userID: item.userID,\n    meta: item.meta,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }), showPanel2 && /*#__PURE__*/React.createElement(BonusPanel, {\n    condition: condition,\n    userID: item.userID,\n    meta: item.meta,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }));\n});\n\nconst Leaderboard = ({\n  leaderboardData,\n  condition\n}) => {\n  let panelSize = 98;\n\n  if (condition.missions && condition.missions.length > 0) {\n    panelSize = condition.missions.length * 88 + 20;\n  }\n\n  return /*#__PURE__*/React.createElement(FrameBorder, {\n    title: '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LeaderboardGeneral, {\n    itemHeight: 78,\n    panelSize: 98,\n    leaderboardData: leaderboardData,\n    withMissions: condition.missions && condition.missions.length > 0,\n    withBonus: condition.bonus && condition.bonus.length > 0,\n    render: (item, showPanel) => {\n      return /*#__PURE__*/React.createElement(RenderLeaderboardItem, {\n        item: item,\n        condition: condition,\n        showPanel: showPanel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default memo(Leaderboard);","map":{"version":3,"sources":["D:/17專案/客製化ui專案/2011-tw-xmas chris/vmo-frontend-2011-tw-xmas/packages/web/components/leaderboard/LeaderboardItem.tsx"],"names":["getBackgroundColor","backgroundColor","condIcon","condition","condBg","conditionMatch","RenderLeaderboardItem","memo","showPanel2","translation","useContext","handleClickItem","useDeepLink","item","getAdditionalText","additionalText","numberFormat","colorNickName","color","colorRankNumber","borderBottom","images","background","showPanel","Leaderboard","panelSize"],"mappings":";uLAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,OAAA,KAAA,IAAA,UAAA,EAAA,IAAA,QAAA,OAAA;AAEA,SAAA,eAAA,QAAA,SAAA;AACA,SAAA,cAAA,EAAA,YAAA,QAAA,kBAAA;AACA,SAAA,WAAA,QAAA,eAAA;AAEA,SAAA,kBAAA,QAAA,qCAAA;AAGA,OAAA,MAAA,MAAA,qBAAA;AACA,OAAA,kBAAA,MAAA,sBAAA;AACA,SAAA,mBAAA,QAAA,SAAA;AACA,OAAA,YAAA,MAAA,gBAAA;AACA,OAAA,UAAA,MAAA,cAAA;AACA,OAAA,WAAA,MAAA,gBAAA;;AAEA,MAAMA,kBAAkB,GAAG,CAAA,IAAA,EAAA,SAAA,EAAA,QAAA,KAA+B;AACxD,MAAIC,eAAe,GAAnB,SAAA;;AACA,MAAIC,QAAQ,IAAIA,QAAQ,CAAxB,IAAA,EAA+B;AAC7BD,IAAAA,eAAe,GAAfA,sBAAAA;AACD;;AACD,MAAIE,SAAS,IAAIA,SAAS,CAA1B,GAAA,EAAgC;AAC9B,UAAMC,MAAM,GAAGC,cAAc,CAACF,SAAS,CAAV,GAAA,EAA7B,IAA6B,CAA7B;AACAF,IAAAA,eAAe,GACbG,MAAM,IAAIA,MAAM,CAAhBA,KAAAA,GACIA,MAAM,CADVA,KAAAA,GADFH,sBAAAA;AAID;;AAED,SAAA,eAAA;AAbF,CAAA;;AAgBA,MAAMK,qBAKJ,GAAGC,IAAI,CAAC,CAAC;AAAA,EAAA,IAAA;AAAA,EAAA,SAAA;AAAA,EAAA,SAAA;AAA8BC,EAAAA;AAA9B,CAAD,KAAgD;AACxD,QAAMC,WAAW,GAAGC,UAAU,CAA9B,kBAA8B,CAA9B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAsBC,WAAW,CACrCC,IAAI,CADiC,MAAA,EAErCA,IAAI,CAFiC,MAAA,EAGrCA,IAAI,CAHN,MAAuC,CAAvC;AAMA,QAAMX,QAAQ,GAAGG,cAAc,CAACF,SAAS,CAAV,KAAA,EAA/B,IAA+B,CAA/B;AACA,QAAMF,eAAe,GAAGD,kBAAkB,CAAA,IAAA,EAAA,SAAA,EAA1C,QAA0C,CAA1C;;AAEA,QAAMc,iBAAiB,GAAG,MAAM;AAC9B,QAAIC,cAAc,GAAlB,EAAA;;AACA,QAAIZ,SAAS,CAAb,QAAA,EAAwB;AACtBY,MAAAA,cAAc,GAAI,GAAEC,YAAY,CAACH,IAAI,CAAL,KAAA,CAAc,QAAOG,YAAY,CAC/DH,IAAI,CAAJA,IAAAA,CAD+D,MAAA,CAAjEE,GAAAA;AAGD;;AAED,QAAIZ,SAAS,CAAb,SAAA,EAAyB;AACvBY,MAAAA,cAAc,GAAI,GAAEC,YAAY,CAACH,IAAI,CAAL,KAAA,CAAc,UAASG,YAAY,CACjEH,IAAI,CAAJA,IAAAA,CADiE,MAAA,CAAnEE,GAAAA;AAGD;;AAED,QAAIZ,SAAS,CAAb,cAAA,EAA8B;AAC5BY,MAAAA,cAAc,GAAI,GAAEC,YAAY,CAACH,IAAI,CAAL,KAAA,CAAc,MAAKG,YAAY,CAC7DH,IAAI,CAAJA,IAAAA,CAAAA,IAAAA,IAD6D,CAAA,CAE7D,MAAKG,YAAY,CAACH,IAAI,CAAJA,IAAAA,CAAAA,IAAAA,IAAD,CAAA,CAFnBE,QAAAA;AAGD;;AAED,WAAA,cAAA;AApBF,GAAA;;AAuBA,SAAA,aACE,KAAA,CAAA,aAAA,CAAA,mBAAA,EAAA;AACE,IAAA,UAAU,EAAEZ,SAAS,CAATA,QAAAA,IAAsBA,SAAS,CAATA,QAAAA,CAAAA,MAAAA,GADpC,CAAA;AAAA,IAAA,MAAA,EAAA,IAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA,GAAA;AAAA,MAAA,YAAA,EAAA;AAAA;AAAA,GAAA,EAAA,aAGE,KAAA,CAAA,aAAA,CAAA,eAAA,EAAA,QAAA,CAAA;AACE,IAAA,iBAAiB,EADnB,eAAA;AAEE,IAAA,MAAM,EAAEU,IAAI,CAAJA,MAAAA,IAAeA,IAAI,CAAJA,MAAAA,GAFzB,CAAA;AAGE,IAAA,KAAK,EAAE;AACLI,MAAAA,aAAa,EADR,SAAA;AAELC,MAAAA,KAAK,EAFA,SAAA;AAGLC,MAAAA,eAAe,EAHV,SAAA;AAILC,MAAAA,YAAY,EAAEC,MAAM,CAJf,UAAA;AAKLC,MAAAA,UAAU,EAAErB;AALP;AAHT,GAAA,EAAA,IAAA,EAAA;AAWE,IAAA,IAAI,EAAEC,QAAQ,GAAGA,QAAQ,CAAX,IAAA,GAXhB,EAAA;AAYE,IAAA,IAAI,EAAEO,WAAW,CAAXA,GAAAA,CAZR,MAYQA,CAZR;AAaE,IAAA,cAAc,EAAEK,iBAblB,EAAA;AAcE,IAAA,WAAW,EAdb,IAAA;AAeE,IAAA,SAAS,EAfX,KAAA;AAgBE,IAAA,QAAQ,EAhBV,KAAA;AAAA,IAAA,MAAA,EAAA,IAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA,GAAA;AAAA,MAAA,YAAA,EAAA;AAAA;AAAA,GAAA,CAAA,CAHF,EAqBGS,SAAS,IAAA,aACR,KAAA,CAAA,aAAA,CAAA,YAAA,EAAA;AACE,IAAA,SAAS,EADX,SAAA;AAEE,IAAA,MAAM,EAAEV,IAAI,CAFd,MAAA;AAGE,IAAA,IAAI,EAAEA,IAAI,CAHZ,IAAA;AAAA,IAAA,MAAA,EAAA,IAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA,GAAA;AAAA,MAAA,YAAA,EAAA;AAAA;AAAA,GAAA,CAtBJ,EA4BGL,UAAU,IAAA,aACT,KAAA,CAAA,aAAA,CAAA,UAAA,EAAA;AACE,IAAA,SAAS,EADX,SAAA;AAEE,IAAA,MAAM,EAAEK,IAAI,CAFd,MAAA;AAGE,IAAA,IAAI,EAAEA,IAAI,CAHZ,IAAA;AAAA,IAAA,MAAA,EAAA,IAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA,GAAA;AAAA,MAAA,YAAA,EAAA;AAAA;AAAA,GAAA,CA7BJ,CADF;AAvCF,CAKS,CALT;;AAgFA,MAAMW,WAGJ,GAAG,CAAC;AAAA,EAAA,eAAA;AAAmBrB,EAAAA;AAAnB,CAAD,KAAoC;AACvC,MAAIsB,SAAS,GAAb,EAAA;;AACA,MAAItB,SAAS,CAATA,QAAAA,IAAsBA,SAAS,CAATA,QAAAA,CAAAA,MAAAA,GAA1B,CAAA,EAAyD;AACvDsB,IAAAA,SAAS,GAAGtB,SAAS,CAATA,QAAAA,CAAAA,MAAAA,GAAAA,EAAAA,GAAZsB,EAAAA;AACD;;AAED,SAAA,aACE,KAAA,CAAA,aAAA,CAAA,WAAA,EAAA;AAAa,IAAA,KAAK,EAAlB,EAAA;AAAA,IAAA,MAAA,EAAA,IAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA,GAAA;AAAA,MAAA,YAAA,EAAA;AAAA;AAAA,GAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAA,kBAAA,EAAA;AACE,IAAA,UAAU,EADZ,EAAA;AAEE,IAAA,SAAS,EAFX,EAAA;AAGE,IAAA,eAAe,EAHjB,eAAA;AAIE,IAAA,YAAY,EAAEtB,SAAS,CAATA,QAAAA,IAAsBA,SAAS,CAATA,QAAAA,CAAAA,MAAAA,GAJtC,CAAA;AAKE,IAAA,SAAS,EAAEA,SAAS,CAATA,KAAAA,IAAmBA,SAAS,CAATA,KAAAA,CAAAA,MAAAA,GALhC,CAAA;AAME,IAAA,MAAM,EAAE,CAAA,IAAA,EAAA,SAAA,KAAwD;AAC9D,aAAA,aACE,KAAA,CAAA,aAAA,CAAA,qBAAA,EAAA;AACE,QAAA,IAAI,EADN,IAAA;AAEE,QAAA,SAAS,EAFX,SAAA;AAGE,QAAA,SAAS,EAHX,SAAA;AAAA,QAAA,MAAA,EAAA,IAAA;AAAA,QAAA,QAAA,EAAA;AAAA,UAAA,QAAA,EAAA,YAAA;AAAA,UAAA,UAAA,EAAA,GAAA;AAAA,UAAA,YAAA,EAAA;AAAA;AAAA,OAAA,CADF;AAPJ,KAAA;AAAA,IAAA,MAAA,EAAA,IAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA,GAAA;AAAA,MAAA,YAAA,EAAA;AAAA;AAAA,GAAA,CADF,CADF;AATF,CAAA;;AA+BA,eAAeI,IAAI,CAAnB,WAAmB,CAAnB","sourcesContent":["// 2008-tw-momo\n// import React, { useContext, memo } from 'react';\n\n// import { LeaderboardItem } from '@vmo/ui';\n// import { conditionMatch, numberFormat } from '@vmo/share/utils';\n// import { useDeepLink } from '@vmo/ui/hooks';\n// import { LeaderboardItem as LeaderboardItemInterface } from '@vmo/share/interfaces/LeaderboardItem';\n// import { TranslationContext } from '@vmo/web/context/translationContext';\n\n// import { ConditionInterface } from '../../constants/conditions';\n// import images from '../../themes/images';\n// import LeaderboardGeneral from './LeaderboardGeneral';\n// import { WrapLeaderboardItem } from './style';\n// import BonusPanel from './BonusPanel';\n// import FrameBorder from '../frameBorder';\n\n// const RenderLeaderboardItem: React.FC<{\n//   item: LeaderboardItemInterface;\n//   condition: ConditionInterface;\n//   showPanel: boolean;\n// }> = memo(({ item, condition, showPanel }) => {\n//   const translation = useContext(TranslationContext);\n//   const { handleClickItem } = useDeepLink(\n//     item.userID!,\n//     item.openID!,\n//     item.roomID,\n//   );\n//   const condIcon = conditionMatch(condition.icons!, item);\n//   const condBg = conditionMatch(condition.bgs!, item);\n\n//   return (\n//     <WrapLeaderboardItem\n//       withButton={condition.missions && condition.missions.length > 0}\n//     >\n//       <LeaderboardItem\n//         handleClickAvatar={handleClickItem}\n//         isLive={item.roomID && item.roomID > 0}\n//         theme={{\n//           colorNickName: '#ffffff',\n//           color: '#ce9914',\n//           colorRankNumber: '#ffffff',\n//           borderBottom: images.borderLine,\n//           background: condBg || 'rgba(9, 0, 59, 0.92);',\n//         }}\n//         {...item}\n//         icon={condIcon ? condIcon.icon : ''}\n//         unit={translation.get('UNIT')}\n//         isHighlight\n//         withBonus={condition.withBonus}\n//         withVote={false}\n//         bonus={Number.parseInt(item.meta.total, 10) || 0}\n//       />\n//       {showPanel && <BonusPanel meta={item.meta} />}\n//     </WrapLeaderboardItem>\n//   );\n// });\n\n// const Leaderboard: React.FC<{\n//   leaderboardData: LeaderboardItemInterface[];\n//   condition: ConditionInterface;\n// }> = ({ leaderboardData, condition }) => {\n//   const panelSize = 120;\n\n//   return (\n//     <FrameBorder title={''}>\n//       <LeaderboardGeneral\n//         itemHeight={90}\n//         panelSize={panelSize}\n//         leaderboardData={leaderboardData}\n//         withPanel={condition.withBonus}\n//         render={(item: LeaderboardItemInterface, showPanel: boolean) => {\n//           return (\n//             <RenderLeaderboardItem\n//               item={item}\n//               condition={condition}\n//               showPanel={showPanel}\n//             />\n//           );\n//         }}\n//       />\n//     </FrameBorder>\n//   );\n// };\n\n// export default memo(Leaderboard);\nimport React, { useContext, memo } from 'react';\n\nimport { LeaderboardItem } from '@vmo/ui';\nimport { conditionMatch, numberFormat } from '@vmo/share/utils';\nimport { useDeepLink } from '@vmo/ui/hooks';\nimport { LeaderboardItem as LeaderboardItemInterface } from '@vmo/share/interfaces/LeaderboardItem';\nimport { TranslationContext } from '@vmo/web/context/translationContext';\n\nimport { ConditionInterface } from '../../constants/conditions';\nimport images from '../../themes/images';\nimport LeaderboardGeneral from './LeaderboardGeneral';\nimport { WrapLeaderboardItem } from './style';\nimport MissionPanel from './MissionPanel';\nimport BonusPanel from './BonusPanel';\nimport FrameBorder from '../frameBorder';\n\nconst getBackgroundColor = (item, condition, condIcon) => {\n  let backgroundColor = '#070027';\n  if (condIcon && condIcon.icon) {\n    backgroundColor =  'rgba(9, 0, 59, 0.92)';\n  }\n  if (condition && condition.bgs) {\n    const condBg = conditionMatch(condition.bgs!, item);\n    backgroundColor =\n      condBg && condBg.color\n        ? condBg.color\n        :  'rgba(9, 0, 59, 0.92)';\n  }\n\n  return backgroundColor;\n};\n\nconst RenderLeaderboardItem: React.FC<{\n  item: LeaderboardItemInterface;\n  condition: ConditionInterface;\n  showPanel: boolean;\n  showPanel2: boolean;\n}> = memo(({ item, condition, showPanel ,showPanel2 }) => {\n  const translation = useContext(TranslationContext);\n  const { handleClickItem } = useDeepLink(\n    item.userID!,\n    item.openID!,\n    item.roomID,\n  );\n\n  const condIcon = conditionMatch(condition.icons!, item);\n  const backgroundColor = getBackgroundColor(item, condition, condIcon);\n\n  const getAdditionalText = () => {\n    let additionalText = '';\n    if (condition.withVote) {\n      additionalText = `${numberFormat(item.score!)} 票 / ${numberFormat(\n        item.meta.amount!,\n      )}分`;\n    }\n\n    if (condition.withBonus) {\n      additionalText = `${numberFormat(item.score!)} 響叮噹 / ${numberFormat(\n        item.meta.amount!,\n      )}分`;\n    }\n\n    if (condition.withTotalScore) {\n      additionalText = `${numberFormat(item.score!)} ( ${numberFormat(\n        item.meta.vote! || 0,\n      )} + ${numberFormat(item.meta.gift! || 0)} ) 總積分`;\n    }\n\n    return additionalText;\n  };\n\n  return (\n    <WrapLeaderboardItem\n      withButton={condition.missions && condition.missions.length > 0 }\n    >\n      <LeaderboardItem\n        handleClickAvatar={handleClickItem}\n        isLive={item.roomID && item.roomID > 0}\n        theme={{\n          colorNickName: '#ffffff',\n          color: '#ffec17',\n          colorRankNumber: '#ffec17',\n          borderBottom: images.borderLine,\n          background: backgroundColor,\n        }}\n        {...item}\n        icon={condIcon ? condIcon.icon : ''}\n        unit={translation.get('UNIT')}\n        additionalText={getAdditionalText()}\n        isHighlight\n        withBonus={false}\n        withVote={false}\n      />\n      {showPanel && (\n        <MissionPanel\n          condition={condition}\n          userID={item.userID}\n          meta={item.meta}\n        /> \n      )}\n      {showPanel2 &&( \n        <BonusPanel\n          condition={condition}\n          userID={item.userID}\n          meta={item.meta}\n        />\n      )}\n        \n    </WrapLeaderboardItem>\n  );\n});\n\nconst Leaderboard: React.FC<{\n  leaderboardData: LeaderboardItemInterface[];\n  condition: ConditionInterface;\n}> = ({ leaderboardData, condition }) => {\n  let panelSize = 98;\n  if (condition.missions && condition.missions.length > 0) {\n    panelSize = condition.missions.length * 88 + 20;\n  }\n\n  return (\n    <FrameBorder title={''}>\n      <LeaderboardGeneral\n        itemHeight={78}\n        panelSize={98}\n        leaderboardData={leaderboardData}\n        withMissions={condition.missions && condition.missions.length > 0}\n        withBonus={condition.bonus && condition.bonus.length > 0}\n        render={(item: LeaderboardItemInterface, showPanel: boolean) => {\n          return (\n            <RenderLeaderboardItem\n              item={item}\n              condition={condition}\n              showPanel={showPanel}\n            />\n          );\n        }}\n      />\n    </FrameBorder>\n  );\n};\n\nexport default memo(Leaderboard);\n"]},"metadata":{},"sourceType":"module"}