{"ast":null,"code":"var _jsxFileName = \"D:\\\\17\\u5C08\\u6848\\\\\\u5BA2\\u88FD\\u5316ui\\u5C08\\u6848\\\\vmo-frontend-2011-tw-xmas\\\\packages\\\\web\\\\components\\\\EventIntro\\\\EventIntro.tsx\"; // 2002-tw-alliance\n\nimport React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { SectionTypes } from '@vmo/web/constants/config';\nimport { useMinSectionTracking, createSectionViewAction } from '17media-browser-spy';\nimport { trackingSource } from '@vmo/share/17appTrack';\nconst EventIntro = styled.div.withConfig({\n  displayName: \"EventIntro\",\n  componentId: \"sc-3v5ht8-0\"\n})([\"position:relative;max-width:800px;height:1000px;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:5px;@media screen and (max-width:768px){height:500px;}\"]); // const EventIntroTop = styled.div`\n//   width: 100%;\n//   height: 24.39vw;\n//   background-image: url(${Images.yellow1}), url(${Images.block1});\n//   background-repeat: no-repeat;\n//   background-size: 100% 102%, 95% 102%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     height: calc((800 / 828) * 202px);\n//   }\n// `;\n// const EventIntroBottom = styled.div`\n//   position: relative;\n//   z-index: 0;\n//   margin-top: -8px;\n//   width: 100%;\n//   height: 31.88vw;\n//   background-image: url(${Images.yellow3}), url(${Images.cloud}),\n//     url(${Images.block3});\n//   background-repeat: no-repeat;\n//   background-size: 100%, 100%, 95% 100%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     height: calc((800 / 828) * 264px);\n//   }\n// `;\n// const EventIntroHeader = styled.div`\n//   background-image: url(${Images.eventTitle});\n//   background-repeat: no-repeat;\n//   background-position: top;\n//   background-size: contain;\n//   width: 100%;\n//   height: 13.04vw;\n//   color: #000000;\n//   font-weight: 600;\n//   text-align: center;\n//   @media screen and (min-width: 800px) {\n//     font-size: calc((800 / 828) * 28px);\n//     height: calc((800 / 828) * 108px);\n//   }\n// `;\n// const EventIntroContent = styled.div`\n//   position: absolute;\n//   z-index: 1;\n//   width: 100%;\n//   display: flex;\n//   flex: 0 0 auto;\n//   flex-direction: column;\n//   justify-content: center;\n//   align-content: center;\n//   align-self: center;\n//   min-height: 40.33vw;\n//   font-size: 3.38vw;\n//   font-weight: 600;\n//   line-height: 1.43;\n//   color: #fff;\n//   background-image: url(${Images.yellow2}), url(${Images.block2});\n//   background-repeat: repeat-y, repeat-y;\n//   background-size: 100%, 95%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     font-size: calc((800 / 828) * 28px);\n//     min-height: calc((800 / 828) * 334px);\n//   }\n//   iframe {\n//      margin-top: -12.8vw;\n//     @media screen and (min-width: 800px) {\n//       margin-top: calc((800 / 828) * -106px);\n//     }\n//   }\n// `;\n\nconst Iframe = ({\n  src\n}) => {\n  useEffect(() => {\n    const frame = document.querySelector('#frame');\n    frame.style.overflow = 'hidden';\n    window.addEventListener('message', e => {\n      if (e.data.source && e.data.source.indexOf('main-vision') === -1 && e.data.size) {\n        frame.style.height = `${e.data.size.height}px`;\n      }\n    });\n    return () => window.removeEventListener('message', () => {});\n  }, []);\n  return /*#__PURE__*/React.createElement(\"iframe\", {\n    id: \"frame\",\n    src: src,\n    frameBorder: \"0\",\n    width: \"90%\",\n    scrolling: \"no\",\n    title: \"event description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  });\n};\n\nconst EventIntroComponent = ({\n  title,\n  content,\n  iframe,\n  only\n}) => {\n  const descriptionRef = useRef(null);\n  useMinSectionTracking(descriptionRef, () => {\n    trackingSource.track(createSectionViewAction(SectionTypes.description));\n  });\n\n  if (only) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: descriptionRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Iframe, {\n      src: iframe,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (iframe) {\n    return /*#__PURE__*/React.createElement(EventIntro, {\n      ref: descriptionRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Iframe, {\n      src: iframe,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(EventIntro, {\n    ref: descriptionRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }\n  }, content ? /*#__PURE__*/React.createElement(EventIntroContent, {\n    dangerouslySetInnerHTML: {\n      __html: `${content.replace(/\\n/g, '<br/>')}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }) : null);\n};\n\nexport default EventIntroComponent;","map":{"version":3,"sources":["D:/17專案/客製化ui專案/vmo-frontend-2011-tw-xmas/packages/web/components/EventIntro/EventIntro.tsx"],"names":["EventIntro","styled","Iframe","src","useEffect","frame","document","window","e","height","EventIntroComponent","only","descriptionRef","useRef","useMinSectionTracking","trackingSource","createSectionViewAction","SectionTypes","content","__html"],"mappings":"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","sourcesContent":["// 2002-tw-alliance\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport styled from 'styled-components';\n\nimport { SectionTypes } from '@vmo/web/constants/config';\nimport {\n  useMinSectionTracking,\n  createSectionViewAction,\n} from '17media-browser-spy';\nimport { trackingSource } from '@vmo/share/17appTrack';\nimport { EventIntroHeaderStyled } from '@vmo/web/components/Tabs/styled';\nimport Images from '@vmo/web/themes/images';\n\ninterface EventIntroProps {\n  title?: string;\n  content?: string;\n  iframe?: string;\n  only?: boolean;\n}\n\nconst EventIntro = styled.div`\n  position: relative;\n  max-width: 800px;\n  height: 1000px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-bottom:5px;\n\n  @media screen and (max-width: 768px) {\n    height: 500px;\n  }\n`;\n\n// const EventIntroTop = styled.div`\n//   width: 100%;\n//   height: 24.39vw;\n//   background-image: url(${Images.yellow1}), url(${Images.block1});\n//   background-repeat: no-repeat;\n//   background-size: 100% 102%, 95% 102%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     height: calc((800 / 828) * 202px);\n//   }\n// `;\n\n// const EventIntroBottom = styled.div`\n//   position: relative;\n//   z-index: 0;\n//   margin-top: -8px;\n//   width: 100%;\n//   height: 31.88vw;\n//   background-image: url(${Images.yellow3}), url(${Images.cloud}),\n//     url(${Images.block3});\n//   background-repeat: no-repeat;\n//   background-size: 100%, 100%, 95% 100%;\n//   background-position: top;\n//   @media screen and (min-width: 800px) {\n//     height: calc((800 / 828) * 264px);\n//   }\n// `;\n\n// const EventIntroHeader = styled.div`\n//   background-image: url(${Images.eventTitle});\n//   background-repeat: no-repeat;\n//   background-position: top;\n//   background-size: contain;\n//   width: 100%;\n//   height: 13.04vw;\n//   color: #000000;\n//   font-weight: 600;\n//   text-align: center;\n//   @media screen and (min-width: 800px) {\n//     font-size: calc((800 / 828) * 28px);\n//     height: calc((800 / 828) * 108px);\n//   }\n// `;\n\n// const EventIntroContent = styled.div`\n//   position: absolute;\n//   z-index: 1;\n//   width: 100%;\n//   display: flex;\n//   flex: 0 0 auto;\n//   flex-direction: column;\n//   justify-content: center;\n//   align-content: center;\n//   align-self: center;\n//   min-height: 40.33vw;\n//   font-size: 3.38vw;\n//   font-weight: 600;\n//   line-height: 1.43;\n//   color: #fff;\n//   background-image: url(${Images.yellow2}), url(${Images.block2});\n//   background-repeat: repeat-y, repeat-y;\n//   background-size: 100%, 95%;\n//   background-position: top;\n  \n//   @media screen and (min-width: 800px) {\n//     font-size: calc((800 / 828) * 28px);\n//     min-height: calc((800 / 828) * 334px);\n//   }\n//   iframe {\n//      margin-top: -12.8vw;\n//     @media screen and (min-width: 800px) {\n//       margin-top: calc((800 / 828) * -106px);\n//     }\n//   }\n// `;\n\nconst Iframe: React.FC<{ src: string }> = ({ src }) => {\n\n  \n  useEffect(() => {\n    const frame = document.querySelector('#frame') as HTMLElement;\n    frame.style.overflow = 'hidden';\n    window.addEventListener('message', e => {\n      if (\n        e.data.source &&\n        e.data.source.indexOf('main-vision') === -1 &&\n        e.data.size\n      ) {\n        frame.style.height = `${e.data.size.height}px`;\n      }\n    });\n    return () => window.removeEventListener('message', () => {});\n  }, []);\n\n\n\n\n  return (\n    <iframe\n      id=\"frame\"\n      src={src}\n      frameBorder=\"0\"\n      width=\"90%\"\n      scrolling=\"no\"\n      title=\"event description\"\n    />\n  );\n};\n\nconst EventIntroComponent: React.FC<EventIntroProps> = ({\n  title,\n  content,\n  iframe,\n  only,\n}) => {\n  const descriptionRef = useRef(null);\n  useMinSectionTracking(descriptionRef, () => {\n    trackingSource.track(createSectionViewAction(SectionTypes.description));\n  });\n  if (only) {\n    return (\n      <div ref={descriptionRef}>\n        <Iframe src={iframe} />\n      </div>\n    );\n  }\n  if (iframe) {\n    return (\n      <EventIntro ref={descriptionRef}>\n        {/* <EventIntroHeaderStyled>{title}</EventIntroHeaderStyled> */}\n        <Iframe src={iframe} />\n      </EventIntro>\n    );\n  }\n  return (\n    <EventIntro ref={descriptionRef}>\n      {/* <EventIntroHeaderStyled>{title}</EventIntroHeaderStyled> */}\n      {content ? (\n        <EventIntroContent\n          dangerouslySetInnerHTML={{\n            __html: `${content.replace(/\\n/g, '<br/>')}`,\n          }}\n        />\n      ) : null}\n    </EventIntro>\n  );\n};\n\nexport default EventIntroComponent;\n"]},"metadata":{},"sourceType":"module"}