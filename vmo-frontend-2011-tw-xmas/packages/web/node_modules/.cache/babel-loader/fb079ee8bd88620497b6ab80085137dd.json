{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Set from \"@babel/runtime-corejs2/core-js/set\";\nimport _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport { now } from '@17media/dad';\nexport const path = (...paths) => {\n  return paths.join('/').replace(/\\/+/g, '/').replace(/^\\//, '//').replace(/^(https?):\\//, '$1://');\n};\nexport const calculateCountdown = (startDate, endDate) => {\n  const timeLeft = {\n    years: 0,\n    days: 0,\n    hours: 0,\n    min: 0,\n    sec: 0,\n    millisec: 0,\n    notYetStarted: false,\n    ended: false\n  };\n  let diff = (Number(new Date(endDate)) - Number(new Date())) / 1000; // clear countdown when date is reached\n\n  if (diff <= 0) return _objectSpread({}, timeLeft, {\n    ended: true\n  });\n  const diffStart = (Number(new Date()) - Number(new Date(startDate))) / 1000;\n  if (diffStart <= 0) return _objectSpread({}, timeLeft, {\n    notYetStarted: true\n  }); // calculate time difference between now and expected date\n\n  if (diff >= 365.25 * 86400) {\n    // 365.25 * 24 * 60 * 60\n    timeLeft.years = Math.floor(diff / (365.25 * 86400));\n    diff -= timeLeft.years * 365.25 * 86400;\n  }\n\n  if (diff >= 86400) {\n    // 24 * 60 * 60\n    timeLeft.days = Math.floor(diff / 86400);\n    diff -= timeLeft.days * 86400;\n  }\n\n  if (diff >= 3600) {\n    // 60 * 60\n    timeLeft.hours = Math.floor(diff / 3600);\n    diff -= timeLeft.hours * 3600;\n  }\n\n  if (diff >= 60) {\n    timeLeft.min = Math.floor(diff / 60);\n    diff -= timeLeft.min * 60;\n  }\n\n  timeLeft.sec = Math.floor(diff);\n  return timeLeft;\n};\nexport const formatDateEvent = (date, day) => {\n  const dateObj = new Date(date);\n  const month = dateObj.getMonth() + 1;\n  const dateOfMonth = dateObj.getDate();\n  const hours = dateObj.getHours();\n  const minutes = dateObj.getMinutes();\n  const sec = dateObj.getSeconds();\n  const stringDateOfMonth = dateOfMonth < 10 ? `0${dateOfMonth}` : String(dateOfMonth);\n  const stringHours = hours < 10 ? `0${hours}` : String(hours);\n  const stringMinutes = minutes < 10 ? `0${minutes}` : String(minutes);\n  const stringSec = sec < 10 ? `0${sec}` : String(sec);\n  return `${month}/${stringDateOfMonth} (${day}) ${stringHours}:${stringMinutes}:${stringSec}`;\n};\nexport const addLeadingZeros = value => {\n  return String(value).length < 2 ? `0${String(value)}` : value;\n};\nexport const formatDateOnCalendar = date => {\n  const dateObj = new Date(date);\n  const month = dateObj.getMonth() + 1;\n  const dateOfMonth = dateObj.getDate();\n  const stringDateOfMonth = dateOfMonth < 10 ? `0${dateOfMonth}` : String(dateOfMonth);\n  return `${month}/${stringDateOfMonth}`;\n};\nexport const convertConditionFilter = (filterCondition, value, conditionValue) => {\n  switch (filterCondition) {\n    case '>':\n      return value > conditionValue;\n\n    case '>=':\n      return value >= conditionValue;\n\n    case '<':\n      return value < conditionValue;\n\n    case '<=':\n      return value <= conditionValue;\n\n    case '===':\n      return value === conditionValue;\n\n    default:\n      return true;\n  }\n};\nexport const conditionMatch = (conditions, item) => conditions && conditions.find(cond => {\n  return convertConditionFilter(cond.filterCondition, cond.value, item[cond.conditionValue] + 1);\n});\nexport const numberFormat = value => {\n  let finalValue = value;\n\n  if (!finalValue) {\n    finalValue = 0;\n    return finalValue.toLocaleString(navigator.language, {\n      minimumFractionDigits: 0\n    });\n  }\n\n  return finalValue.toLocaleString(navigator.language, {\n    minimumFractionDigits: 0\n  });\n};\nexport const numberFormatWithDigits = (value, minimumFractionDigits) => {\n  let finalValue = value;\n\n  if (!finalValue) {\n    finalValue = 0;\n    return finalValue.toLocaleString(navigator.language, {\n      minimumFractionDigits\n    });\n  }\n\n  return value.toLocaleString(navigator.language, {\n    minimumFractionDigits\n  });\n};\nexport const globalThis = (1, eval)('this'); // eslint-disable-line no-eval\n\nexport const qs = (search = globalThis.location ? globalThis.location.search.slice(1) : '') => search.split('&').filter(Boolean).reduce((o, keyValue) => {\n  const [key, value] = keyValue.split('=');\n  if (value === undefined) o[key] = true;else o[key] = value;\n  return o;\n}, {});\nexport const getUserLangs = () => {\n  const q = qs();\n  return _Array$from(new _Set([q.lang, q.lng, ...window.navigator.languages].filter(Boolean)));\n};\nexport const getCurrentLang = () => {\n  const supportLangs = [{\n    prefix: 'zh',\n    lang: 'zh-TW'\n  }, {\n    prefix: 'en',\n    lang: 'en-US'\n  }, {\n    prefix: 'ja',\n    lang: 'ja-JP'\n  }, {\n    prefix: 'ar',\n    lang: 'ar'\n  }];\n  const langs = getUserLangs();\n\n  if (langs.length > 0) {\n    const langItem = {\n      prefix: langs[0].substr(0, 2),\n      lang: langs[0]\n    };\n    const findIndex = supportLangs.findIndex(item => item.prefix === langItem.prefix);\n\n    if (findIndex > 0) {\n      return supportLangs[findIndex].lang;\n    }\n\n    return supportLangs[0].lang;\n  }\n\n  return supportLangs[0].lang || 'zh-TW';\n};\nexport const getCurrentTransLateLang = () => {\n  const supportLangs = [{\n    prefix: 'zh',\n    lang: 'zh_TW'\n  }, {\n    prefix: 'en',\n    lang: 'en_US'\n  }, {\n    prefix: 'ja',\n    lang: 'ja'\n  }, {\n    prefix: 'ar',\n    lang: 'ar'\n  }];\n  const langs = getUserLangs();\n\n  if (langs.length > 0) {\n    const langItem = {\n      prefix: langs[0].substr(0, 2),\n      lang: langs[0]\n    };\n    const findIndex = supportLangs.findIndex(item => item.prefix === langItem.prefix);\n\n    if (findIndex > 0) {\n      return supportLangs[findIndex].lang;\n    }\n\n    return supportLangs[0].lang;\n  }\n\n  return supportLangs[0].lang || 'zh_TW';\n};\nexport const isPRO = () => window.location.hostname === 'vmo.17.media';\nexport const isSta = () => window.location.hostname === 'sta-vmo.17.media';\nexport const isLocal = () => window.location.hostname === 'localhost';\nexport function debounce(func, timeout) {\n  let timer;\n  return (...args) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func(...args);\n    }, timeout);\n  };\n}\nexport const getDateByFormat = (date, format, locale) => {\n  if (format.indexOf('MM/DD/YYYY') > -1) {\n    return format.replace('MM/DD/YYYY', date.toLocaleDateString(locale, {\n      month: '2-digit',\n      day: '2-digit',\n      year: 'numeric'\n    }));\n  }\n\n  if (format.indexOf('MM/DD') > -1) {\n    return format.replace('MM/DD', date.toLocaleDateString(locale, {\n      month: 'numeric',\n      day: '2-digit'\n    }));\n  }\n\n  if (format.indexOf('MM/d') > -1) {\n    return format.replace('MM/d', date.toLocaleDateString(locale, {\n      month: 'numeric',\n      day: 'numeric'\n    }));\n  }\n\n  return format;\n};\nexport const getWeekdayByFormat = (date, format, locale) => {\n  if (format.indexOf('WN') > -1) {\n    return format.replace('WN', date.toLocaleDateString(locale, {\n      weekday: locale.indexOf('zh') > -1 ? 'narrow' : 'short'\n    }));\n  }\n\n  return format;\n};\nexport const getTimeByFormat = (date, format, locale) => {\n  if (format.indexOf('hh:mm:ss') > -1) {\n    return format.replace('hh:mm:ss', date.toLocaleTimeString('en-GB', {\n      hour12: false,\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    }));\n  }\n\n  if (format.indexOf('HH:mm PP') > -1) {\n    return format.replace('HH:mm PP', date.toLocaleTimeString(locale, {\n      hour12: true,\n      hour: 'numeric',\n      minute: 'numeric'\n    }));\n  }\n\n  return format;\n};\nexport const getStringDateCountdownByLocalFormat = ({\n  d,\n  h,\n  m,\n  s,\n  ms\n}, formatStr) => formatStr.replace('D', d.toString()).replace('hh', addLeadingZeros(h).toString()).replace('mm', addLeadingZeros(m).toString()).replace('ss', addLeadingZeros(s).toString());\nexport const getStringDateByLocalFormat = (dateString, format = 'MM/DD(WN)hh:mm:ss') => {\n  const date = new Date(dateString);\n  const locale = getCurrentLang();\n  format = getDateByFormat(date, format, locale);\n  format = getWeekdayByFormat(date, format, locale);\n  format = getTimeByFormat(date, format, locale);\n  return format;\n};\nexport const getDetailDate = date => {\n  const dateObj = new Date(date);\n  const month = dateObj.getMonth() + 1;\n  const dateOfMonth = dateObj.getDate();\n  const hours = dateObj.getHours();\n  const minutes = dateObj.getMinutes();\n  const sec = dateObj.getSeconds();\n  const stringDateOfMonth = dateOfMonth < 10 ? `0${dateOfMonth}` : String(dateOfMonth);\n  const stringHours = hours < 10 ? `0${hours}` : String(hours);\n  const stringMinutes = minutes < 10 ? `0${minutes}` : String(minutes);\n  const stringSec = sec < 10 ? `0${sec}` : String(sec);\n  return {\n    month,\n    stringDateOfMonth,\n    stringHours,\n    stringMinutes,\n    stringSec\n  };\n};\nexport const isSameDate = (startDate, endDate) => getStringDateByLocalFormat(startDate, 'MM/DD/YYYY') === getStringDateByLocalFormat(endDate, 'MM/DD/YYYY');\nexport const convertDateToTime = date => {\n  const {\n    stringHours,\n    stringMinutes,\n    stringSec\n  } = getDetailDate(date);\n  return `${stringHours}:${stringMinutes}:${stringSec}`;\n};\nexport const getDefaultDay = (dates, indexDefault) => {\n  const currentDate = new Date(now() * 1000);\n  const indexDefaultDate = dates.findIndex(item => {\n    return new Date(item.endDate).getTime() - currentDate.getTime() >= 0;\n  });\n\n  if (indexDefaultDate < 0) {\n    if (typeof indexDefault !== 'undefined') {\n      return indexDefault;\n    }\n\n    return dates.length - 1;\n  }\n\n  return indexDefaultDate;\n};\nexport const isProdVmo17Media = () => window.location.hostname === 'vmo.17.media';\nexport const getUUID = api => isProdVmo17Media() ? api.prod : api.sta;\nexport const getType = api => isProdVmo17Media() ? api.prod : api.sta;\nexport const cumulativeOffset = element => {\n  let top = 0;\n  let left = 0;\n\n  do {\n    top += element.offsetTop || 0;\n    left += element.offsetLeft || 0;\n    element = element.offsetParent;\n  } while (element);\n\n  return {\n    top,\n    left\n  };\n};\nexport const copyStringToClipboard = str => {\n  const el = document.createElement('textarea');\n  el.value = str;\n  el.setAttribute('readonly', '');\n  el.style.position = 'absolute';\n  el.style.left = '-9999px';\n  document.body.appendChild(el);\n  const selected = document.getSelection().rangeCount > 0 ? document.getSelection().getRangeAt(0) : false;\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n\n  if (selected) {\n    document.getSelection().removeAllRanges();\n    document.getSelection().addRange(selected);\n  }\n};\nexport const copyDataToClipboard = data => {\n  // Get mession string\n  const messionStrArr = [];\n\n  if (data.length > 0) {\n    const firstMission = data[0].missions;\n\n    if (firstMission) {\n      _Object$keys(firstMission).sort((a, b) => {\n        return Number(a.substr(-1)) - Number(b.substr(-1));\n      }).forEach(item => {\n        messionStrArr.push(`${item.substr(0, 1).toUpperCase()}${item.substr(1)}`);\n      });\n    }\n  } // Get meta string\n\n\n  const metaStrArr = [];\n\n  if (data.length > 0) {\n    const firstMeta = data[0].meta;\n\n    if (firstMeta) {\n      _Object$keys(firstMeta).forEach(item => {\n        metaStrArr.push(`${item.substr(0, 1).toUpperCase()}${item.substr(1)}`);\n      });\n    }\n  } // Get member string\n\n\n  const memberStrArr = [];\n\n  if (data.length > 0) {\n    const firstMember = data[0].member;\n\n    if (firstMember) {\n      firstMember.forEach((item, index) => {\n        memberStrArr.push(`Member ${index + 1} UserID`);\n        memberStrArr.push(`Member ${index + 1} Name`);\n        memberStrArr.push(`Member ${index + 1} Score`);\n      });\n    }\n  }\n\n  const copyArr = [];\n  let firstRow = `Rank\\tUserID\\tName\\tScore\\tRegion`;\n\n  if (data[0] && data[0].member) {\n    firstRow = `Rank\\tLeagueID\\tLeague Name\\tLeagueScore\\tRegion`;\n  }\n\n  if (messionStrArr.length > 0) {\n    firstRow = `${firstRow}\\t${messionStrArr.join('\\t')}`;\n  }\n\n  if (metaStrArr.length > 0) {\n    firstRow = `${firstRow}\\t${metaStrArr.join('\\t')}`;\n  }\n\n  if (memberStrArr.length > 0) {\n    firstRow = `${firstRow}\\t${memberStrArr.join('\\t')}`;\n  }\n\n  copyArr.push(firstRow);\n  data.forEach((item, index) => {\n    let itemStr = `${index + 1}\\t${item.userInfo.userID}\\t${item.userInfo.displayName || item.userInfo.openID}\\t${item.score}\\t${item.userInfo.region}`;\n\n    if (messionStrArr.length > 0) {\n      const messions = [];\n\n      _Object$keys(item.missions).sort((a, b) => {\n        return Number(a.substr(-1)) - Number(b.substr(-1));\n      }).forEach(mItem => {\n        messions.push(`${item.missions[mItem]}`);\n      });\n\n      if (messions.length > 0) {\n        itemStr = `${itemStr}\\t${messions.join(`\\t`)}`;\n      }\n    }\n\n    if (metaStrArr.length > 0) {\n      const meta = [];\n\n      _Object$keys(item.meta).forEach(mItem => {\n        meta.push(`${item.meta[mItem]}`);\n      });\n\n      if (meta.length > 0) {\n        itemStr = `${itemStr}\\t${meta.join(`\\t`)}`;\n      }\n    }\n\n    if (memberStrArr.length > 0) {\n      const member = [];\n      item.member.forEach(item => {\n        member.push(item.userID);\n        member.push(item.userInfo.displayName);\n        member.push(item.score);\n      });\n\n      if (member.length > 0) {\n        itemStr = `${itemStr}\\t${member.join(`\\t`)}`;\n      }\n    }\n\n    copyArr.push(itemStr);\n  });\n  copyStringToClipboard(copyArr.join('\\n'));\n};\nexport const animation = (duration, callback) => {\n  const start = performance.now();\n  let timer = 0;\n  timer = requestAnimationFrame(function animateFunc(time) {\n    let percent = (time - start) / duration;\n    if (percent > 1) percent = 1;\n    if (percent < 0) percent = 0;\n    callback(percent);\n\n    if (percent < 1) {\n      timer = requestAnimationFrame(animateFunc);\n    } else {\n      cancelAnimationFrame(timer);\n    }\n  });\n};","map":{"version":3,"sources":["D:/17專案/客製化ui專案/vmo-frontend-2011-tw-xmas/packages/share/utils.ts"],"names":["now","path","paths","join","replace","calculateCountdown","startDate","endDate","timeLeft","years","days","hours","min","sec","millisec","notYetStarted","ended","diff","Number","Date","diffStart","Math","floor","formatDateEvent","date","day","dateObj","month","getMonth","dateOfMonth","getDate","getHours","minutes","getMinutes","getSeconds","stringDateOfMonth","String","stringHours","stringMinutes","stringSec","addLeadingZeros","value","length","formatDateOnCalendar","convertConditionFilter","filterCondition","conditionValue","conditionMatch","conditions","item","find","cond","numberFormat","finalValue","toLocaleString","navigator","language","minimumFractionDigits","numberFormatWithDigits","globalThis","eval","qs","search","location","slice","split","filter","Boolean","reduce","o","keyValue","key","undefined","getUserLangs","q","lang","lng","window","languages","getCurrentLang","supportLangs","prefix","langs","langItem","substr","findIndex","getCurrentTransLateLang","isPRO","hostname","isSta","isLocal","debounce","func","timeout","timer","args","clearTimeout","setTimeout","getDateByFormat","format","locale","indexOf","toLocaleDateString","year","getWeekdayByFormat","weekday","getTimeByFormat","toLocaleTimeString","hour12","hour","minute","second","getStringDateCountdownByLocalFormat","d","h","m","s","ms","formatStr","toString","getStringDateByLocalFormat","dateString","getDetailDate","isSameDate","convertDateToTime","getDefaultDay","dates","indexDefault","currentDate","indexDefaultDate","getTime","isProdVmo17Media","getUUID","api","prod","sta","getType","cumulativeOffset","element","top","left","offsetTop","offsetLeft","offsetParent","copyStringToClipboard","str","el","document","createElement","setAttribute","style","position","body","appendChild","selected","getSelection","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","addRange","copyDataToClipboard","data","messionStrArr","firstMission","missions","sort","a","b","forEach","push","toUpperCase","metaStrArr","firstMeta","meta","memberStrArr","firstMember","member","index","copyArr","firstRow","itemStr","userInfo","userID","displayName","openID","score","region","messions","mItem","animation","duration","callback","start","performance","requestAnimationFrame","animateFunc","time","percent","cancelAnimationFrame"],"mappings":"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","sourcesContent":["import { now } from '@17media/dad';\nimport { LeaderboardItem } from '@vmo/share/interfaces/LeaderboardItem';\n\nexport const path = (...paths: string[]) => {\n  return paths\n    .join('/')\n    .replace(/\\/+/g, '/')\n    .replace(/^\\//, '//')\n    .replace(/^(https?):\\//, '$1://');\n};\n\nexport const calculateCountdown = (startDate: string, endDate: string) => {\n  const timeLeft = {\n    years: 0,\n    days: 0,\n    hours: 0,\n    min: 0,\n    sec: 0,\n    millisec: 0,\n    notYetStarted: false,\n    ended: false,\n  };\n\n  let diff = (Number(new Date(endDate)) - Number(new Date())) / 1000;\n  // clear countdown when date is reached\n  if (diff <= 0) return { ...timeLeft, ended: true };\n\n  const diffStart = (Number(new Date()) - Number(new Date(startDate))) / 1000;\n\n  if (diffStart <= 0) return { ...timeLeft, notYetStarted: true };\n\n  // calculate time difference between now and expected date\n  if (diff >= 365.25 * 86400) {\n    // 365.25 * 24 * 60 * 60\n    timeLeft.years = Math.floor(diff / (365.25 * 86400));\n    diff -= timeLeft.years * 365.25 * 86400;\n  }\n\n  if (diff >= 86400) {\n    // 24 * 60 * 60\n    timeLeft.days = Math.floor(diff / 86400);\n    diff -= timeLeft.days * 86400;\n  }\n\n  if (diff >= 3600) {\n    // 60 * 60\n    timeLeft.hours = Math.floor(diff / 3600);\n    diff -= timeLeft.hours * 3600;\n  }\n\n  if (diff >= 60) {\n    timeLeft.min = Math.floor(diff / 60);\n    diff -= timeLeft.min * 60;\n  }\n\n  timeLeft.sec = Math.floor(diff);\n  return timeLeft;\n};\n\nexport const formatDateEvent = (date: string, day: string) => {\n  const dateObj = new Date(date);\n\n  const month = dateObj.getMonth() + 1;\n  const dateOfMonth = dateObj.getDate();\n  const hours = dateObj.getHours();\n  const minutes = dateObj.getMinutes();\n  const sec = dateObj.getSeconds();\n\n  const stringDateOfMonth =\n    dateOfMonth < 10 ? `0${dateOfMonth}` : String(dateOfMonth);\n  const stringHours = hours < 10 ? `0${hours}` : String(hours);\n  const stringMinutes = minutes < 10 ? `0${minutes}` : String(minutes);\n  const stringSec = sec < 10 ? `0${sec}` : String(sec);\n\n  return `${month}/${stringDateOfMonth} (${day}) ${stringHours}:${stringMinutes}:${stringSec}`;\n};\n\nexport const addLeadingZeros = (value: number) => {\n  return String(value).length < 2 ? `0${String(value)}` : value;\n};\n\nexport const formatDateOnCalendar = (date: string) => {\n  const dateObj = new Date(date);\n\n  const month = dateObj.getMonth() + 1;\n  const dateOfMonth = dateObj.getDate();\n\n  const stringDateOfMonth =\n    dateOfMonth < 10 ? `0${dateOfMonth}` : String(dateOfMonth);\n\n  return `${month}/${stringDateOfMonth}`;\n};\n\nexport const convertConditionFilter = (\n  filterCondition: string,\n  value: number,\n  conditionValue: number,\n) => {\n  switch (filterCondition) {\n    case '>':\n      return value > conditionValue;\n    case '>=':\n      return value >= conditionValue;\n    case '<':\n      return value < conditionValue;\n    case '<=':\n      return value <= conditionValue;\n    case '===':\n      return value === conditionValue;\n    default:\n      return true;\n  }\n};\n\nexport const conditionMatch = (conditions: any[], item: any) =>\n  conditions &&\n  conditions.find(cond => {\n    return convertConditionFilter(\n      cond.filterCondition,\n      cond.value,\n      item[cond.conditionValue] + 1,\n    );\n  });\n\nexport const numberFormat = (value: number) => {\n  let finalValue = value;\n  if (!finalValue) {\n    finalValue = 0;\n    return finalValue.toLocaleString(navigator.language, {\n      minimumFractionDigits: 0,\n    });\n  }\n  return finalValue.toLocaleString(navigator.language, {\n    minimumFractionDigits: 0,\n  });\n};\n\nexport const numberFormatWithDigits = (\n  value: number,\n  minimumFractionDigits: number,\n) => {\n  let finalValue = value;\n  if (!finalValue) {\n    finalValue = 0;\n    return finalValue.toLocaleString(navigator.language, {\n      minimumFractionDigits,\n    });\n  }\n  return value.toLocaleString(navigator.language, { minimumFractionDigits });\n};\n\nexport const globalThis = (1, eval)('this'); // eslint-disable-line no-eval\n\nexport const qs = <T extends { [k: string]: string | boolean }>(\n  search: string = globalThis.location\n    ? globalThis.location.search.slice(1)\n    : '',\n): Partial<T> =>\n  search\n    .split('&')\n    .filter(Boolean)\n    .reduce<any>((o, keyValue) => {\n      const [key, value] = keyValue.split('=');\n\n      if (value === undefined) o[key] = true;\n      else o[key] = value;\n\n      return o;\n    }, {});\n\nexport const getUserLangs = (): string[] => {\n  const q = qs<{ lang: string; lng: string }>();\n  return Array.from(\n    new Set([q.lang, q.lng, ...window.navigator.languages].filter(\n      Boolean,\n    ) as string[]),\n  );\n};\n\nexport const getCurrentLang = (): string => {\n  const supportLangs = [\n    {\n      prefix: 'zh',\n      lang: 'zh-TW',\n    },\n    {\n      prefix: 'en',\n      lang: 'en-US',\n    },\n    {\n      prefix: 'ja',\n      lang: 'ja-JP',\n    },\n    {\n      prefix: 'ar',\n      lang: 'ar',\n    },\n  ];\n  const langs = getUserLangs();\n  if (langs.length > 0) {\n    const langItem = {\n      prefix: langs[0].substr(0, 2),\n      lang: langs[0],\n    };\n    const findIndex = supportLangs.findIndex(\n      item => item.prefix === langItem.prefix,\n    );\n    if (findIndex > 0) {\n      return supportLangs[findIndex].lang;\n    }\n    return supportLangs[0].lang;\n  }\n  return supportLangs[0].lang || 'zh-TW';\n};\n\nexport const getCurrentTransLateLang = (): string => {\n  const supportLangs = [\n    {\n      prefix: 'zh',\n      lang: 'zh_TW',\n    },\n    {\n      prefix: 'en',\n      lang: 'en_US',\n    },\n    {\n      prefix: 'ja',\n      lang: 'ja',\n    },\n    {\n      prefix: 'ar',\n      lang: 'ar',\n    },\n  ];\n  const langs = getUserLangs();\n  if (langs.length > 0) {\n    const langItem = {\n      prefix: langs[0].substr(0, 2),\n      lang: langs[0],\n    };\n    const findIndex = supportLangs.findIndex(\n      item => item.prefix === langItem.prefix,\n    );\n    if (findIndex > 0) {\n      return supportLangs[findIndex].lang;\n    }\n    return supportLangs[0].lang;\n  }\n  return supportLangs[0].lang || 'zh_TW';\n};\n\nexport const isPRO = () => window.location.hostname === 'vmo.17.media';\n\nexport const isSta = () => window.location.hostname === 'sta-vmo.17.media';\n\nexport const isLocal = () => window.location.hostname === 'localhost';\n\nexport function debounce<Params extends any[]>(\n  func: (...args: Params) => any,\n  timeout: number,\n): (...args: Params) => void {\n  let timer: number;\n  return (...args: Params) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func(...args);\n    }, timeout);\n  };\n}\n\nexport const getDateByFormat = (date: Date, format: string, locale: string) => {\n  if (format.indexOf('MM/DD/YYYY') > -1) {\n    return format.replace(\n      'MM/DD/YYYY',\n      date.toLocaleDateString(locale, {\n        month: '2-digit',\n        day: '2-digit',\n        year: 'numeric',\n      }),\n    );\n  }\n\n  if (format.indexOf('MM/DD') > -1) {\n    return format.replace(\n      'MM/DD',\n      date.toLocaleDateString(locale, {\n        month: 'numeric',\n        day: '2-digit',\n      }),\n    );\n  }\n\n  if (format.indexOf('MM/d') > -1) {\n    return format.replace(\n      'MM/d',\n      date.toLocaleDateString(locale, {\n        month: 'numeric',\n        day: 'numeric',\n      }),\n    );\n  }\n\n  return format;\n};\n\nexport const getWeekdayByFormat = (\n  date: Date,\n  format: string,\n  locale: string,\n) => {\n  if (format.indexOf('WN') > -1) {\n    return format.replace(\n      'WN',\n      date.toLocaleDateString(locale, {\n        weekday: locale.indexOf('zh') > -1 ? 'narrow' : 'short',\n      }),\n    );\n  }\n\n  return format;\n};\n\nexport const getTimeByFormat = (date: Date, format: string, locale: string) => {\n  if (format.indexOf('hh:mm:ss') > -1) {\n    return format.replace(\n      'hh:mm:ss',\n      date.toLocaleTimeString('en-GB', {\n        hour12: false,\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n      }),\n    );\n  }\n\n  if (format.indexOf('HH:mm PP') > -1) {\n    return format.replace(\n      'HH:mm PP',\n      date.toLocaleTimeString(locale, {\n        hour12: true,\n        hour: 'numeric',\n        minute: 'numeric',\n      }),\n    );\n  }\n\n  return format;\n};\n\nexport const getStringDateCountdownByLocalFormat = (\n  {\n    d,\n    h,\n    m,\n    s,\n    ms,\n  }: {\n    d: number;\n    h: number;\n    m: number;\n    s: number;\n    ms: number;\n  },\n  formatStr: string,\n) =>\n  formatStr\n    .replace('D', d.toString())\n    .replace('hh', addLeadingZeros(h).toString())\n    .replace('mm', addLeadingZeros(m).toString())\n    .replace('ss', addLeadingZeros(s).toString());\n\nexport const getStringDateByLocalFormat = (\n  dateString: string,\n  format = 'MM/DD(WN)hh:mm:ss',\n) => {\n  const date = new Date(dateString);\n  const locale = getCurrentLang();\n  format = getDateByFormat(date, format, locale);\n  format = getWeekdayByFormat(date, format, locale);\n  format = getTimeByFormat(date, format, locale);\n  return format;\n};\n\nexport const getDetailDate = (date: string) => {\n  const dateObj = new Date(date);\n  const month = dateObj.getMonth() + 1;\n  const dateOfMonth = dateObj.getDate();\n  const hours = dateObj.getHours();\n  const minutes = dateObj.getMinutes();\n  const sec = dateObj.getSeconds();\n  const stringDateOfMonth =\n    dateOfMonth < 10 ? `0${dateOfMonth}` : String(dateOfMonth);\n  const stringHours = hours < 10 ? `0${hours}` : String(hours);\n  const stringMinutes = minutes < 10 ? `0${minutes}` : String(minutes);\n  const stringSec = sec < 10 ? `0${sec}` : String(sec);\n  return { month, stringDateOfMonth, stringHours, stringMinutes, stringSec };\n};\n\nexport const isSameDate = (startDate: string, endDate: string) =>\n  getStringDateByLocalFormat(startDate, 'MM/DD/YYYY') ===\n  getStringDateByLocalFormat(endDate, 'MM/DD/YYYY');\n\nexport const convertDateToTime = (date: string) => {\n  const { stringHours, stringMinutes, stringSec } = getDetailDate(date);\n  return `${stringHours}:${stringMinutes}:${stringSec}`;\n};\n\nexport const getDefaultDay = (\n  dates: { tabKey: string; startDate: string; endDate: string }[],\n  indexDefault?: number,\n) => {\n  const currentDate = new Date(now() * 1000);\n  const indexDefaultDate = dates.findIndex(item => {\n    return new Date(item.endDate).getTime() - currentDate.getTime() >= 0;\n  });\n  if (indexDefaultDate < 0) {\n    if (typeof indexDefault !== 'undefined') {\n      return indexDefault;\n    }\n    return dates.length - 1;\n  }\n\n  return indexDefaultDate;\n};\n\nexport const isProdVmo17Media = () =>\n  window.location.hostname === 'vmo.17.media';\n\nexport const getUUID = (api: { sta: string; prod: string }) =>\n  isProdVmo17Media() ? api.prod : api.sta;\n\nexport const getType = (api: { sta: string; prod: string }) =>\n  isProdVmo17Media() ? api.prod : api.sta;\n\nexport const cumulativeOffset = (element: any) => {\n  let top = 0;\n  let left = 0;\n  do {\n    top += element.offsetTop || 0;\n    left += element.offsetLeft || 0;\n    element = element.offsetParent;\n  } while (element);\n\n  return {\n    top,\n    left,\n  };\n};\n\nexport const copyStringToClipboard = (str: string) => {\n  const el = document.createElement('textarea');\n  el.value = str;\n  el.setAttribute('readonly', '');\n  el.style.position = 'absolute';\n  el.style.left = '-9999px';\n  document.body.appendChild(el);\n  const selected =\n    document.getSelection()!.rangeCount > 0\n      ? document.getSelection()!.getRangeAt(0)\n      : false;\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n  if (selected) {\n    document.getSelection()!.removeAllRanges();\n    document.getSelection()!.addRange(selected);\n  }\n};\n\nexport const copyDataToClipboard = (data: LeaderboardItem[]) => {\n  // Get mession string\n  const messionStrArr: string[] = [];\n  if (data.length > 0) {\n    const firstMission = data[0].missions;\n    if (firstMission) {\n      Object.keys(firstMission)\n        .sort((a: any, b: any) => {\n          return Number(a.substr(-1)) - Number(b.substr(-1));\n        })\n        .forEach(item => {\n          messionStrArr.push(\n            `${item.substr(0, 1).toUpperCase()}${item.substr(1)}`,\n          );\n        });\n    }\n  }\n  // Get meta string\n  const metaStrArr: string[] = [];\n  if (data.length > 0) {\n    const firstMeta = data[0].meta;\n    if (firstMeta) {\n      Object.keys(firstMeta).forEach(item => {\n        metaStrArr.push(`${item.substr(0, 1).toUpperCase()}${item.substr(1)}`);\n      });\n    }\n  }\n  // Get member string\n  const memberStrArr: string[] = [];\n  if (data.length > 0) {\n    const firstMember = data[0].member;\n    if (firstMember) {\n      firstMember.forEach((item, index) => {\n        memberStrArr.push(`Member ${index + 1} UserID`);\n        memberStrArr.push(`Member ${index + 1} Name`);\n        memberStrArr.push(`Member ${index + 1} Score`);\n      });\n    }\n  }\n  const copyArr = [];\n  let firstRow = `Rank\\tUserID\\tName\\tScore\\tRegion`;\n  if (data[0] && data[0].member) {\n    firstRow = `Rank\\tLeagueID\\tLeague Name\\tLeagueScore\\tRegion`;\n  }\n  if (messionStrArr.length > 0) {\n    firstRow = `${firstRow}\\t${messionStrArr.join('\\t')}`;\n  }\n  if (metaStrArr.length > 0) {\n    firstRow = `${firstRow}\\t${metaStrArr.join('\\t')}`;\n  }\n  if (memberStrArr.length > 0) {\n    firstRow = `${firstRow}\\t${memberStrArr.join('\\t')}`;\n  }\n  copyArr.push(firstRow);\n  data.forEach((item, index) => {\n    let itemStr = `${index + 1}\\t${item.userInfo.userID}\\t${item.userInfo\n      .displayName || item.userInfo.openID}\\t${item.score}\\t${\n      item.userInfo.region\n    }`;\n    if (messionStrArr.length > 0) {\n      const messions = [];\n      Object.keys(item.missions)\n        .sort((a: any, b: any) => {\n          return Number(a.substr(-1)) - Number(b.substr(-1));\n        })\n        .forEach(mItem => {\n          messions.push(`${item.missions[mItem]}`);\n        });\n      if (messions.length > 0) {\n        itemStr = `${itemStr}\\t${messions.join(`\\t`)}`;\n      }\n    }\n    if (metaStrArr.length > 0) {\n      const meta = [];\n      Object.keys(item.meta).forEach(mItem => {\n        meta.push(`${item.meta[mItem]}`);\n      });\n      if (meta.length > 0) {\n        itemStr = `${itemStr}\\t${meta.join(`\\t`)}`;\n      }\n    }\n    if (memberStrArr.length > 0) {\n      const member = [];\n      item.member.forEach(item => {\n        member.push(item.userID);\n        member.push(item.userInfo.displayName);\n        member.push(item.score);\n      });\n      if (member.length > 0) {\n        itemStr = `${itemStr}\\t${member.join(`\\t`)}`;\n      }\n    }\n    copyArr.push(itemStr);\n  });\n  copyStringToClipboard(copyArr.join('\\n'));\n};\n\nexport const animation = (\n  duration: number,\n  callback: (percent: number) => void,\n) => {\n  const start = performance.now();\n  let timer = 0;\n  timer = requestAnimationFrame(function animateFunc(time) {\n    let percent = (time - start) / duration;\n    if (percent > 1) percent = 1;\n    if (percent < 0) percent = 0;\n    callback(percent);\n    if (percent < 1) {\n      timer = requestAnimationFrame(animateFunc);\n    } else {\n      cancelAnimationFrame(timer);\n    }\n  });\n};\n"]},"metadata":{},"sourceType":"module"}