{"ast":null,"code":"var _jsxFileName = \"D:\\\\17\\u5C08\\u6848\\\\\\u5BA2\\u88FD\\u5316ui\\u5C08\\u6848\\\\test2\\\\vmo-frontend-2008-tw-momo\\\\packages\\\\web\\\\components\\\\EventIntro\\\\EventIntro.tsx\";\n// 2002-tw-alliance\nimport React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { SectionTypes } from '@vmo/web/constants/config';\nimport { useMinSectionTracking, createSectionViewAction } from '17media-browser-spy';\nimport { trackingSource } from '@vmo/share/17appTrack';\nimport Images from '@vmo/web/themes/images';\nconst EventIntro = styled.div.withConfig({\n  displayName: \"EventIntro\",\n  componentId: \"sc-3v5ht8-0\"\n})([\"position:relative;max-width:800px;display:flex;flex-direction:column;justify-content:center;align-items:center;\"]);\nconst EventIntroTop = styled.div.withConfig({\n  displayName: \"EventIntro__EventIntroTop\",\n  componentId: \"sc-3v5ht8-1\"\n})([\"width:100%;height:24.39vw;background-image:url(\", \"),url(\", \");background-repeat:no-repeat;background-size:100% 102%,95% 102%;background-position:top;@media screen and (min-width:800px){height:calc((800 / 828) * 202px);}\"], Images.yellow1, Images.block1);\nconst EventIntroBottom = styled.div.withConfig({\n  displayName: \"EventIntro__EventIntroBottom\",\n  componentId: \"sc-3v5ht8-2\"\n})([\"position:relative;z-index:0;margin-top:-8px;width:100%;height:31.88vw;background-image:url(\", \"),url(\", \"),url(\", \");background-repeat:no-repeat;background-size:100%,100%,95% 100%;background-position:top;@media screen and (min-width:800px){height:calc((800 / 828) * 264px);}\"], Images.yellow3, Images.cloud, Images.block3);\nconst EventIntroHeader = styled.div.withConfig({\n  displayName: \"EventIntro__EventIntroHeader\",\n  componentId: \"sc-3v5ht8-3\"\n})([\"background-image:url(\", \");background-repeat:no-repeat;background-position:top;background-size:contain;width:100%;height:13.04vw;color:#000000;font-weight:600;text-align:center;@media screen and (min-width:800px){font-size:calc((800 / 828) * 28px);height:calc((800 / 828) * 108px);}\"], Images.eventTitle);\nconst EventIntroContent = styled.div.withConfig({\n  displayName: \"EventIntro__EventIntroContent\",\n  componentId: \"sc-3v5ht8-4\"\n})([\"position:absolute;z-index:1;width:100%;display:flex;flex:0 0 auto;flex-direction:column;justify-content:center;align-content:center;align-self:center;min-height:40.33vw;font-size:3.38vw;font-weight:600;line-height:1.43;color:#fff;background-image:url(\", \"),url(\", \");background-repeat:repeat-y,repeat-y;background-size:100%,95%;background-position:top;@media screen and (min-width:800px){font-size:calc((800 / 828) * 28px);min-height:calc((800 / 828) * 334px);}iframe{margin-top:-12.8vw;@media screen and (min-width:800px){margin-top:calc((800 / 828) * -106px);}}\"], Images.yellow2, Images.block2);\n\nconst Iframe = ({\n  src\n}) => {\n  useEffect(() => {\n    const frame = document.querySelector('#frame');\n    frame.style.width = '800px';\n    frame.style.height = '900px';\n    frame.style.display = 'flex';\n    window.addEventListener('message', e => {\n      if (e.data.source && e.data.source.indexOf('main-vision') === -1 && e.data.size) {\n        frame.style.height = `${e.data.size.height}px`;\n      }\n    });\n    return () => window.removeEventListener('message', () => {});\n  }, []);\n  return React.createElement(\"iframe\", {\n    id: \"frame\",\n    src: src,\n    frameBorder: \"0\",\n    width: \"100%\",\n    scrolling: \"no\",\n    title: \"event description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  });\n};\n\nconst EventIntroComponent = ({\n  title,\n  content,\n  iframe,\n  only\n}) => {\n  const descriptionRef = useRef(null);\n  useMinSectionTracking(descriptionRef, () => {\n    trackingSource.track(createSectionViewAction(SectionTypes.description));\n  });\n\n  if (only) {\n    return React.createElement(\"div\", {\n      ref: descriptionRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(Iframe, {\n      src: iframe,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }));\n  }\n\n  if (iframe) {\n    return React.createElement(EventIntro, {\n      ref: descriptionRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Iframe, {\n      src: iframe,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }));\n  }\n\n  return React.createElement(EventIntro, {\n    ref: descriptionRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, content ? React.createElement(EventIntroContent, {\n    dangerouslySetInnerHTML: {\n      __html: `${content.replace(/\\n/g, '<br/>')}`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }) : null);\n};\n\nexport default EventIntroComponent;","map":{"version":3,"sources":["D:\\17專案\\客製化ui專案\\test2\\vmo-frontend-2008-tw-momo\\packages\\web\\components\\EventIntro\\EventIntro.tsx"],"names":["React","useEffect","useRef","styled","SectionTypes","useMinSectionTracking","createSectionViewAction","trackingSource","Images","EventIntro","div","EventIntroTop","yellow1","block1","EventIntroBottom","yellow3","cloud","block3","EventIntroHeader","eventTitle","EventIntroContent","yellow2","block2","Iframe","src","frame","document","querySelector","style","width","height","display","window","addEventListener","e","data","source","indexOf","size","removeEventListener","EventIntroComponent","title","content","iframe","only","descriptionRef","track","description","__html","replace"],"mappings":"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","sourcesContent":["// 2002-tw-alliance\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport styled from 'styled-components';\n\nimport { SectionTypes } from '@vmo/web/constants/config';\nimport {\n  useMinSectionTracking,\n  createSectionViewAction,\n} from '17media-browser-spy';\nimport { trackingSource } from '@vmo/share/17appTrack';\nimport { EventIntroHeaderStyled } from '@vmo/web/components/Tabs/styled';\nimport Images from '@vmo/web/themes/images';\n\ninterface EventIntroProps {\n  title?: string;\n  content?: string;\n  iframe?: string;\n  only?: boolean;\n}\n\nconst EventIntro = styled.div`\n  position: relative;\n  max-width: 800px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst EventIntroTop = styled.div`\n  width: 100%;\n  height: 24.39vw;\n  background-image: url(${Images.yellow1}), url(${Images.block1});\n  background-repeat: no-repeat;\n  background-size: 100% 102%, 95% 102%;\n  background-position: top;\n  @media screen and (min-width: 800px) {\n    height: calc((800 / 828) * 202px);\n  }\n`;\n\nconst EventIntroBottom = styled.div`\n  position: relative;\n  z-index: 0;\n  margin-top: -8px;\n  width: 100%;\n  height: 31.88vw;\n  background-image: url(${Images.yellow3}), url(${Images.cloud}),\n    url(${Images.block3});\n  background-repeat: no-repeat;\n  background-size: 100%, 100%, 95% 100%;\n  background-position: top;\n  @media screen and (min-width: 800px) {\n    height: calc((800 / 828) * 264px);\n  }\n`;\n\nconst EventIntroHeader = styled.div`\n  background-image: url(${Images.eventTitle});\n  background-repeat: no-repeat;\n  background-position: top;\n  background-size: contain;\n  width: 100%;\n  height: 13.04vw;\n  color: #000000;\n  font-weight: 600;\n  text-align: center;\n  @media screen and (min-width: 800px) {\n    font-size: calc((800 / 828) * 28px);\n    height: calc((800 / 828) * 108px);\n  }\n`;\n\nconst EventIntroContent = styled.div`\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-self: center;\n  min-height: 40.33vw;\n  font-size: 3.38vw;\n  font-weight: 600;\n  line-height: 1.43;\n  color: #fff;\n  background-image: url(${Images.yellow2}), url(${Images.block2});\n  background-repeat: repeat-y, repeat-y;\n  background-size: 100%, 95%;\n  background-position: top;\n  \n  @media screen and (min-width: 800px) {\n    font-size: calc((800 / 828) * 28px);\n    min-height: calc((800 / 828) * 334px);\n  }\n  iframe {\n     margin-top: -12.8vw;\n    @media screen and (min-width: 800px) {\n      margin-top: calc((800 / 828) * -106px);\n    }\n  }\n`;\n\nconst Iframe: React.FC<{ src: string }> = ({ src }) => {\n\n  \n  useEffect(() => {\n    const frame = document.querySelector('#frame') as HTMLElement;\n    frame.style.width ='800px';\n    frame.style.height ='900px';\n    frame.style.display = 'flex';\n    window.addEventListener('message', e => {\n      if (\n        e.data.source &&\n        e.data.source.indexOf('main-vision') === -1 &&\n        e.data.size\n      ) {\n        frame.style.height = `${e.data.size.height}px`;\n      }\n    });\n    return () => window.removeEventListener('message', () => {});\n  }, []);\n\n\n\n\n  return (\n    <iframe\n      id=\"frame\"\n      src={src}\n      frameBorder=\"0\"\n      width=\"100%\"\n      scrolling=\"no\"\n      title=\"event description\"\n    />\n  );\n};\n\nconst EventIntroComponent: React.FC<EventIntroProps> = ({\n  title,\n  content,\n  iframe,\n  only,\n}) => {\n  const descriptionRef = useRef(null);\n  useMinSectionTracking(descriptionRef, () => {\n    trackingSource.track(createSectionViewAction(SectionTypes.description));\n  });\n  if (only) {\n    return (\n      <div ref={descriptionRef}>\n        <Iframe src={iframe} />\n      </div>\n    );\n  }\n  if (iframe) {\n    return (\n      <EventIntro ref={descriptionRef}>\n        {/* <EventIntroHeaderStyled>{title}</EventIntroHeaderStyled> */}\n        <Iframe src={iframe} />\n      </EventIntro>\n    );\n  }\n  return (\n    <EventIntro ref={descriptionRef}>\n      {/* <EventIntroHeaderStyled>{title}</EventIntroHeaderStyled> */}\n      {content ? (\n        <EventIntroContent\n          dangerouslySetInnerHTML={{\n            __html: `${content.replace(/\\n/g, '<br/>')}`,\n          }}\n        />\n      ) : null}\n    </EventIntro>\n  );\n};\n\nexport default EventIntroComponent;\n"]},"metadata":{},"sourceType":"module"}